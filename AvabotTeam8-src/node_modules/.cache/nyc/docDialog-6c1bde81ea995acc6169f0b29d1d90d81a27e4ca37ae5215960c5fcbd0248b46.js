function cov_1boptpdvjn(){var path="/Users/doudou/COMP0016_2020_21_Team8/AvabotTeam8-src/dialogs/docDialog.js";var hash="dcbca828209e832993cfbb87eccf3e9c4bc190d3";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/doudou/COMP0016_2020_21_Team8/AvabotTeam8-src/dialogs/docDialog.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:30}},"1":{start:{line:8,column:4},end:{line:8,column:33}},"2":{start:{line:9,column:19},end:{line:9,column:31}},"3":{start:{line:10,column:25},end:{line:10,column:43}},"4":{start:{line:11,column:20},end:{line:11,column:33}},"5":{start:{line:12,column:22},end:{line:12,column:37}},"6":{start:{line:21,column:4},end:{line:21,column:22}},"7":{start:{line:22,column:4},end:{line:22,column:25}},"8":{start:{line:23,column:4},end:{line:23,column:18}},"9":{start:{line:24,column:4},end:{line:24,column:19}},"10":{start:{line:25,column:4},end:{line:25,column:20}},"11":{start:{line:26,column:4},end:{line:26,column:23}},"12":{start:{line:28,column:4},end:{line:28,column:48}},"13":{start:{line:29,column:4},end:{line:29,column:52}},"14":{start:{line:30,column:4},end:{line:36,column:6}},"15":{start:{line:38,column:4},end:{line:38,column:44}},"16":{start:{line:48,column:4},end:{line:79,column:5}},"17":{start:{line:50,column:6},end:{line:58,column:9}},"18":{start:{line:61,column:6},end:{line:61,column:78}},"19":{start:{line:62,column:6},end:{line:64,column:21}},"20":{start:{line:65,column:6},end:{line:67,column:20}},"21":{start:{line:68,column:6},end:{line:70,column:24}},"22":{start:{line:71,column:6},end:{line:78,column:9}},"23":{start:{line:89,column:4},end:{line:89,column:35}},"24":{start:{line:90,column:19},end:{line:90,column:36}},"25":{start:{line:91,column:4},end:{line:118,column:5}},"26":{start:{line:92,column:6},end:{line:96,column:7}},"27":{start:{line:93,column:8},end:{line:93,column:50}},"28":{start:{line:95,column:8},end:{line:95,column:65}},"29":{start:{line:97,column:11},end:{line:118,column:5}},"30":{start:{line:98,column:6},end:{line:106,column:7}},"31":{start:{line:99,column:8},end:{line:103,column:9}},"32":{start:{line:100,column:10},end:{line:100,column:71}},"33":{start:{line:102,column:10},end:{line:102,column:53}},"34":{start:{line:105,column:8},end:{line:105,column:69}},"35":{start:{line:107,column:11},end:{line:118,column:5}},"36":{start:{line:108,column:6},end:{line:115,column:7}},"37":{start:{line:110,column:8},end:{line:112,column:11}},"38":{start:{line:114,column:8},end:{line:114,column:75}},"39":{start:{line:117,column:6},end:{line:117,column:36}},"40":{start:{line:120,column:4},end:{line:122,column:7}},"41":{start:{line:132,column:19},end:{line:132,column:30}},"42":{start:{line:133,column:4},end:{line:133,column:67}},"43":{start:{line:134,column:4},end:{line:134,column:41}},"44":{start:{line:135,column:17},end:{line:143,column:8}},"45":{start:{line:139,column:10},end:{line:139,column:77}},"46":{start:{line:142,column:8},end:{line:142,column:27}},"47":{start:{line:144,column:4},end:{line:144,column:44}},"48":{start:{line:145,column:4},end:{line:147,column:7}},"49":{start:{line:157,column:20},end:{line:157,column:22}},"50":{start:{line:158,column:14},end:{line:158,column:15}},"51":{start:{line:159,column:4},end:{line:163,column:5}},"52":{start:{line:160,column:6},end:{line:160,column:45}},"53":{start:{line:161,column:6},end:{line:161,column:54}},"54":{start:{line:162,column:6},end:{line:162,column:12}},"55":{start:{line:164,column:4},end:{line:164,column:21}},"56":{start:{line:174,column:19},end:{line:174,column:21}},"57":{start:{line:175,column:18},end:{line:175,column:20}},"58":{start:{line:176,column:4},end:{line:176,column:50}},"59":{start:{line:177,column:15},end:{line:177,column:16}},"60":{start:{line:178,column:4},end:{line:185,column:5}},"61":{start:{line:179,column:20},end:{line:179,column:51}},"62":{start:{line:180,column:6},end:{line:182,column:7}},"63":{start:{line:181,column:8},end:{line:181,column:77}},"64":{start:{line:184,column:6},end:{line:184,column:13}},"65":{start:{line:186,column:4},end:{line:186,column:20}},"66":{start:{line:196,column:17},end:{line:196,column:19}},"67":{start:{line:197,column:14},end:{line:197,column:16}},"68":{start:{line:198,column:4},end:{line:198,column:28}},"69":{start:{line:199,column:15},end:{line:199,column:16}},"70":{start:{line:200,column:4},end:{line:204,column:5}},"71":{start:{line:201,column:20},end:{line:201,column:43}},"72":{start:{line:202,column:6},end:{line:202,column:27}},"73":{start:{line:203,column:6},end:{line:203,column:13}},"74":{start:{line:205,column:4},end:{line:205,column:18}},"75":{start:{line:215,column:4},end:{line:215,column:40}},"76":{start:{line:223,column:4},end:{line:223,column:17}},"77":{start:{line:230,column:4},end:{line:230,column:19}},"78":{start:{line:237,column:4},end:{line:237,column:18}},"79":{start:{line:241,column:0},end:{line:241,column:37}},"80":{start:{line:242,column:0},end:{line:242,column:39}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:22},end:{line:39,column:3}},line:20},"1":{name:"(anonymous_1)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:47,column:31},end:{line:80,column:3}},line:47},"2":{name:"(anonymous_2)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:23},end:{line:123,column:3}},line:88},"3":{name:"(anonymous_3)",decl:{start:{line:131,column:2},end:{line:131,column:3}},loc:{start:{line:131,column:25},end:{line:148,column:3}},line:131},"4":{name:"(anonymous_4)",decl:{start:{line:138,column:8},end:{line:138,column:9}},loc:{start:{line:139,column:10},end:{line:139,column:77}},line:139},"5":{name:"(anonymous_5)",decl:{start:{line:141,column:13},end:{line:141,column:14}},loc:{start:{line:141,column:30},end:{line:143,column:7}},line:141},"6":{name:"(anonymous_6)",decl:{start:{line:156,column:2},end:{line:156,column:3}},loc:{start:{line:156,column:22},end:{line:165,column:3}},line:156},"7":{name:"(anonymous_7)",decl:{start:{line:173,column:2},end:{line:173,column:3}},loc:{start:{line:173,column:23},end:{line:187,column:3}},line:173},"8":{name:"(anonymous_8)",decl:{start:{line:195,column:2},end:{line:195,column:3}},loc:{start:{line:195,column:17},end:{line:206,column:3}},line:195},"9":{name:"(anonymous_9)",decl:{start:{line:214,column:2},end:{line:214,column:3}},loc:{start:{line:214,column:19},end:{line:216,column:3}},line:214},"10":{name:"(anonymous_10)",decl:{start:{line:222,column:2},end:{line:222,column:3}},loc:{start:{line:222,column:11},end:{line:224,column:3}},line:222},"11":{name:"(anonymous_11)",decl:{start:{line:229,column:2},end:{line:229,column:3}},loc:{start:{line:229,column:11},end:{line:231,column:3}},line:229},"12":{name:"(anonymous_12)",decl:{start:{line:236,column:2},end:{line:236,column:3}},loc:{start:{line:236,column:11},end:{line:238,column:3}},line:236}},branchMap:{"0":{loc:{start:{line:48,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:48,column:4},end:{line:79,column:5}},{start:{line:48,column:4},end:{line:79,column:5}}],line:48},"1":{loc:{start:{line:61,column:17},end:{line:61,column:77}},type:"cond-expr",locations:[{start:{line:61,column:43},end:{line:61,column:66}},{start:{line:61,column:69},end:{line:61,column:77}}],line:61},"2":{loc:{start:{line:62,column:19},end:{line:64,column:20}},type:"cond-expr",locations:[{start:{line:63,column:10},end:{line:63,column:35}},{start:{line:64,column:10},end:{line:64,column:20}}],line:62},"3":{loc:{start:{line:65,column:18},end:{line:67,column:19}},type:"cond-expr",locations:[{start:{line:66,column:10},end:{line:66,column:34}},{start:{line:67,column:10},end:{line:67,column:19}}],line:65},"4":{loc:{start:{line:68,column:22},end:{line:70,column:23}},type:"cond-expr",locations:[{start:{line:69,column:10},end:{line:69,column:38}},{start:{line:70,column:10},end:{line:70,column:23}}],line:68},"5":{loc:{start:{line:91,column:4},end:{line:118,column:5}},type:"if",locations:[{start:{line:91,column:4},end:{line:118,column:5}},{start:{line:91,column:4},end:{line:118,column:5}}],line:91},"6":{loc:{start:{line:92,column:6},end:{line:96,column:7}},type:"if",locations:[{start:{line:92,column:6},end:{line:96,column:7}},{start:{line:92,column:6},end:{line:96,column:7}}],line:92},"7":{loc:{start:{line:97,column:11},end:{line:118,column:5}},type:"if",locations:[{start:{line:97,column:11},end:{line:118,column:5}},{start:{line:97,column:11},end:{line:118,column:5}}],line:97},"8":{loc:{start:{line:98,column:6},end:{line:106,column:7}},type:"if",locations:[{start:{line:98,column:6},end:{line:106,column:7}},{start:{line:98,column:6},end:{line:106,column:7}}],line:98},"9":{loc:{start:{line:99,column:8},end:{line:103,column:9}},type:"if",locations:[{start:{line:99,column:8},end:{line:103,column:9}},{start:{line:99,column:8},end:{line:103,column:9}}],line:99},"10":{loc:{start:{line:107,column:11},end:{line:118,column:5}},type:"if",locations:[{start:{line:107,column:11},end:{line:118,column:5}},{start:{line:107,column:11},end:{line:118,column:5}}],line:107},"11":{loc:{start:{line:108,column:6},end:{line:115,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:115,column:7}},{start:{line:108,column:6},end:{line:115,column:7}}],line:108},"12":{loc:{start:{line:180,column:6},end:{line:182,column:7}},type:"if",locations:[{start:{line:180,column:6},end:{line:182,column:7}},{start:{line:180,column:6},end:{line:182,column:7}}],line:180}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dcbca828209e832993cfbb87eccf3e9c4bc190d3"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1boptpdvjn=function(){return actualCoverage;};}return actualCoverage;}cov_1boptpdvjn();const axios=(cov_1boptpdvjn().s[0]++,require("axios"));const{ComponentDialog,ChoiceFactory,ChoicePrompt,TextPrompt,WaterfallDialog}=(cov_1boptpdvjn().s[1]++,require("botbuilder-dialogs"));const DOC_DIALOG=(cov_1boptpdvjn().s[2]++,"DOC_DIALOG");const WATERFALL_DIALOG=(cov_1boptpdvjn().s[3]++,"WATERFALL_DIALOG");const TEXT_PROMPT=(cov_1boptpdvjn().s[4]++,"TEXT_PROMPT");const CHOICE_PROMPT=(cov_1boptpdvjn().s[5]++,"CHOICE_PROMPT");/**
 * The dialog for user to choose what they want to do with the document that has been sent by them.
 * @class DocDialog
 * @extends {ComponentDialog}
 */class DocDialog extends ComponentDialog{constructor(mainId){cov_1boptpdvjn().f[0]++;cov_1boptpdvjn().s[6]++;super(DOC_DIALOG);cov_1boptpdvjn().s[7]++;this.mainId=mainId;cov_1boptpdvjn().s[8]++;this.sum="";cov_1boptpdvjn().s[9]++;this.form="";cov_1boptpdvjn().s[10]++;this.query="";cov_1boptpdvjn().s[11]++;this.filepath="";cov_1boptpdvjn().s[12]++;this.addDialog(new TextPrompt(TEXT_PROMPT));cov_1boptpdvjn().s[13]++;this.addDialog(new ChoicePrompt(CHOICE_PROMPT));cov_1boptpdvjn().s[14]++;this.addDialog(new WaterfallDialog(WATERFALL_DIALOG,[this.beginStep.bind(this),this.dealStep.bind(this),this.answerStep.bind(this)]));cov_1boptpdvjn().s[15]++;this.initialDialogId=WATERFALL_DIALOG;}/**
   * A waterfall step for user to choose what info they want
   * @param {*} stepContext
   * @return {*}
   * @memberof DocDialog
   */async beginStep(stepContext){cov_1boptpdvjn().f[1]++;cov_1boptpdvjn().s[16]++;if(stepContext.options.restartMsg){cov_1boptpdvjn().b[0][0]++;cov_1boptpdvjn().s[17]++;// if the dialog was restarted, prompt directly.
return await stepContext.prompt(CHOICE_PROMPT,{prompt:"Anything else for the document?",choices:ChoiceFactory.toChoices(["summarize it","extract table","QnA about it","no"])});}else{cov_1boptpdvjn().b[0][1]++;cov_1boptpdvjn().s[18]++;// if the dialog was initiated, collect info passed by mainDialog.
this.sum=stepContext.options.sum?(cov_1boptpdvjn().b[1][0]++,stepContext.options.sum):(cov_1boptpdvjn().b[1][1]++,this.sum);cov_1boptpdvjn().s[19]++;this.query=stepContext.options.query?(cov_1boptpdvjn().b[2][0]++,stepContext.options.query):(cov_1boptpdvjn().b[2][1]++,this.query);cov_1boptpdvjn().s[20]++;this.form=stepContext.options.form?(cov_1boptpdvjn().b[3][0]++,stepContext.options.form):(cov_1boptpdvjn().b[3][1]++,this.form);cov_1boptpdvjn().s[21]++;this.filepath=stepContext.options.filepath?(cov_1boptpdvjn().b[4][0]++,stepContext.options.filepath):(cov_1boptpdvjn().b[4][1]++,this.filepath);cov_1boptpdvjn().s[22]++;return await stepContext.prompt(CHOICE_PROMPT,{prompt:"How can I help with the document?",choices:ChoiceFactory.toChoices(["summarize it","extract table","QnA about it"])});}}/**
   * A waterfall step to send info that user has asker for
   * @param {*} step
   * @return {*}
   * @memberof DocDialog
   */async dealStep(step){cov_1boptpdvjn().f[2]++;cov_1boptpdvjn().s[23]++;console.log(step.result.value);const choice=(cov_1boptpdvjn().s[24]++,step.result.value);cov_1boptpdvjn().s[25]++;if(choice=="summarize it"){cov_1boptpdvjn().b[5][0]++;cov_1boptpdvjn().s[26]++;if(this.sum){cov_1boptpdvjn().b[6][0]++;cov_1boptpdvjn().s[27]++;await step.context.sendActivity(this.sum);}else{cov_1boptpdvjn().b[6][1]++;cov_1boptpdvjn().s[28]++;await step.context.sendActivity("Summarization failed.");}}else{cov_1boptpdvjn().b[5][1]++;cov_1boptpdvjn().s[29]++;if(choice=="extract table"){cov_1boptpdvjn().b[7][0]++;cov_1boptpdvjn().s[30]++;if(this.form){cov_1boptpdvjn().b[8][0]++;cov_1boptpdvjn().s[31]++;if(this.form!="No Table Found"){cov_1boptpdvjn().b[9][0]++;cov_1boptpdvjn().s[32]++;await step.context.sendActivity(this.formatTable(this.form));}else{cov_1boptpdvjn().b[9][1]++;cov_1boptpdvjn().s[33]++;await step.context.sendActivity(this.form);}}else{cov_1boptpdvjn().b[8][1]++;cov_1boptpdvjn().s[34]++;await step.context.sendActivity("Table recognition failed.");}}else{cov_1boptpdvjn().b[7][1]++;cov_1boptpdvjn().s[35]++;if(choice=="QnA about it"){cov_1boptpdvjn().b[10][0]++;cov_1boptpdvjn().s[36]++;if(this.query){cov_1boptpdvjn().b[11][0]++;cov_1boptpdvjn().s[37]++;//ask what the question is from the user
return await step.prompt(TEXT_PROMPT,{prompt:"What is the question?"});}else{cov_1boptpdvjn().b[11][1]++;cov_1boptpdvjn().s[38]++;await step.context.sendActivity("QA system preprocessing failed.");}}else{cov_1boptpdvjn().b[10][1]++;cov_1boptpdvjn().s[39]++;return await step.endDialog();}}}cov_1boptpdvjn().s[40]++;return await step.replaceDialog(this.initialDialogId,{restartMsg:"What else can I do for you?"});}/**
   * A waterfall dialog to retrieve answer from QA system via HTTP GET request
   * @param {*} step
   * @return {*}
   * @memberof DocDialog
   */async answerStep(step){cov_1boptpdvjn().f[3]++;var question=(cov_1boptpdvjn().s[41]++,step.result);cov_1boptpdvjn().s[42]++;await step.context.sendActivity("Searching for the answer...");cov_1boptpdvjn().s[43]++;console.log("question: "+question);let answer=(cov_1boptpdvjn().s[44]++,await axios.get("http://20.77.57.60:8000?query="+question)//http://20.77.57.60:8000?query=Who is the founder of UCL?
.then(v=>{cov_1boptpdvjn().f[4]++;cov_1boptpdvjn().s[45]++;return"answer: "+v.data.answer+" \r\n"+"context: "+v.data.context;}).catch(function(error){cov_1boptpdvjn().f[5]++;cov_1boptpdvjn().s[46]++;console.log(error);}));cov_1boptpdvjn().s[47]++;await step.context.sendActivity(answer);cov_1boptpdvjn().s[48]++;return await step.replaceDialog(this.initialDialogId,{restartMsg:"What else can I do for you?"});}/**
   * The method to parse the table data sent in json
   * @param {*} tables as an array
   * @return a string
   * @memberof DocDialog
   */formatTable(tables){cov_1boptpdvjn().f[6]++;var formatted=(cov_1boptpdvjn().s[49]++,"");var nth=(cov_1boptpdvjn().s[50]++,1);cov_1boptpdvjn().s[51]++;while(tables[nth-1]!=undefined){cov_1boptpdvjn().s[52]++;formatted+="Table "+nth+": \r\n";cov_1boptpdvjn().s[53]++;formatted+=this.columDivider(tables[nth-1]);cov_1boptpdvjn().s[54]++;nth++;}cov_1boptpdvjn().s[55]++;return formatted;}/**
   * The method used to parse table data
   * @param {*} string
   * @return a string
   * @memberof DocDialog
   */columDivider(string){cov_1boptpdvjn().f[7]++;var oneTable=(cov_1boptpdvjn().s[56]++,"");var columns=(cov_1boptpdvjn().s[57]++,[]);cov_1boptpdvjn().s[58]++;columns=this.getRidSides(string).split("}");var item=(cov_1boptpdvjn().s[59]++,1);cov_1boptpdvjn().s[60]++;while(columns[item-1]!=undefined){var element=(cov_1boptpdvjn().s[61]++,columns[item-1].split("{")[1]);cov_1boptpdvjn().s[62]++;if(element!=undefined){cov_1boptpdvjn().b[12][0]++;cov_1boptpdvjn().s[63]++;oneTable+="Column "+item+": "+this.divide(element)+" \r\n";}else{cov_1boptpdvjn().b[12][1]++;}cov_1boptpdvjn().s[64]++;item++;}cov_1boptpdvjn().s[65]++;return oneTable;}/**
   * The method used to parse table data
   * @param {*} string
   * @return an array
   * @memberof DocDialog
   */divide(string){cov_1boptpdvjn().f[8]++;var column=(cov_1boptpdvjn().s[66]++,[]);var arr=(cov_1boptpdvjn().s[67]++,[]);cov_1boptpdvjn().s[68]++;arr=string.split(",");var item=(cov_1boptpdvjn().s[69]++,0);cov_1boptpdvjn().s[70]++;while(arr[item]!=undefined){var element=(cov_1boptpdvjn().s[71]++,arr[item].split(":")[1]);cov_1boptpdvjn().s[72]++;column.push(element);cov_1boptpdvjn().s[73]++;item++;}cov_1boptpdvjn().s[74]++;return column;}/**
   * The method used to parse table data
   * @param {*} str
   * @return a string
   * @memberof DocDialog
   */getRidSides(str){cov_1boptpdvjn().f[9]++;cov_1boptpdvjn().s[75]++;return str.slice(1,str.length-1);}/**
   * setter for sum
   * @memberof DocDialog
   */set a(n){cov_1boptpdvjn().f[10]++;cov_1boptpdvjn().s[76]++;this.sum=n;}/**
   * setter for query
   * @memberof DocDialog
   */set b(n){cov_1boptpdvjn().f[11]++;cov_1boptpdvjn().s[77]++;this.query=n;}/**
   * setter for form
   * @memberof DocDialog
   */set c(n){cov_1boptpdvjn().f[12]++;cov_1boptpdvjn().s[78]++;this.form=n;}}cov_1boptpdvjn().s[79]++;module.exports.DocDialog=DocDialog;cov_1boptpdvjn().s[80]++;module.exports.DOC_DIALOG=DOC_DIALOG;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvY0RpYWxvZy5qcyJdLCJuYW1lcyI6WyJheGlvcyIsInJlcXVpcmUiLCJDb21wb25lbnREaWFsb2ciLCJDaG9pY2VGYWN0b3J5IiwiQ2hvaWNlUHJvbXB0IiwiVGV4dFByb21wdCIsIldhdGVyZmFsbERpYWxvZyIsIkRPQ19ESUFMT0ciLCJXQVRFUkZBTExfRElBTE9HIiwiVEVYVF9QUk9NUFQiLCJDSE9JQ0VfUFJPTVBUIiwiRG9jRGlhbG9nIiwiY29uc3RydWN0b3IiLCJtYWluSWQiLCJzdW0iLCJmb3JtIiwicXVlcnkiLCJmaWxlcGF0aCIsImFkZERpYWxvZyIsImJlZ2luU3RlcCIsImJpbmQiLCJkZWFsU3RlcCIsImFuc3dlclN0ZXAiLCJpbml0aWFsRGlhbG9nSWQiLCJzdGVwQ29udGV4dCIsIm9wdGlvbnMiLCJyZXN0YXJ0TXNnIiwicHJvbXB0IiwiY2hvaWNlcyIsInRvQ2hvaWNlcyIsInN0ZXAiLCJjb25zb2xlIiwibG9nIiwicmVzdWx0IiwidmFsdWUiLCJjaG9pY2UiLCJjb250ZXh0Iiwic2VuZEFjdGl2aXR5IiwiZm9ybWF0VGFibGUiLCJlbmREaWFsb2ciLCJyZXBsYWNlRGlhbG9nIiwicXVlc3Rpb24iLCJhbnN3ZXIiLCJnZXQiLCJ0aGVuIiwidiIsImRhdGEiLCJjYXRjaCIsImVycm9yIiwidGFibGVzIiwiZm9ybWF0dGVkIiwibnRoIiwidW5kZWZpbmVkIiwiY29sdW1EaXZpZGVyIiwic3RyaW5nIiwib25lVGFibGUiLCJjb2x1bW5zIiwiZ2V0UmlkU2lkZXMiLCJzcGxpdCIsIml0ZW0iLCJlbGVtZW50IiwiZGl2aWRlIiwiY29sdW1uIiwiYXJyIiwicHVzaCIsInN0ciIsInNsaWNlIiwibGVuZ3RoIiwiYSIsIm4iLCJiIiwiYyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiIreVVBZVk7MkZBZlosS0FBTUEsQ0FBQUEsS0FBSywwQkFBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBVixDQUFYLENBQ0EsS0FBTSxDQUNKQyxlQURJ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LENBQU0sa0RBQ2YsTUFBT0EsQ0FBQUEsR0FBRyxDQUFDQyxLQUFKLENBQVUsQ0FBVixDQUFhRCxHQUFHLENBQUNFLE1BQUosQ0FBYSxDQUExQixDQUFQLENBQ0QsQ0FFRDtBQUNGO0FBQ0E7QUFDQSxLQUNPLEdBQURDLENBQUFBLENBQUMsQ0FBQ0MsQ0FBRCxDQUFJLG1EQUNQLEtBQUt2RCxHQUFMLENBQVd1RCxDQUFYLENBQ0QsQ0FDRDtBQUNGO0FBQ0E7QUFDQSxLQUNPLEdBQURDLENBQUFBLENBQUMsQ0FBQ0QsQ0FBRCxDQUFJLG1EQUNQLEtBQUtyRCxLQUFMLENBQWFxRCxDQUFiLENBQ0QsQ0FDRDtBQUNGO0FBQ0E7QUFDQSxLQUNPLEdBQURFLENBQUFBLENBQUMsQ0FBQ0YsQ0FBRCxDQUFJLG1EQUNQLEtBQUt0RCxJQUFMLENBQVlzRCxDQUFaLENBQ0QsQ0EzTnFDLEMseUJBOE54Q0csTUFBTSxDQUFDQyxPQUFQLENBQWU5RCxTQUFmLENBQTJCQSxTQUEzQixDLHlCQUNBNkQsTUFBTSxDQUFDQyxPQUFQLENBQWVsRSxVQUFmLENBQTRCQSxVQUE1QiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGF4aW9zID0gcmVxdWlyZShcImF4aW9zXCIpO1xyXG5jb25zdCB7XHJcbiAgQ29tcG9uZW50RGlhbG9nLFxyXG4gIENob2ljZUZhY3RvcnksXHJcbiAgQ2hvaWNlUHJvbXB0LFxyXG4gIFRleHRQcm9tcHQsXHJcbiAgV2F0ZXJmYWxsRGlhbG9nLFxyXG59ID0gcmVxdWlyZShcImJvdGJ1aWxkZXItZGlhbG9nc1wiKTtcclxuY29uc3QgRE9DX0RJQUxPRyA9IFwiRE9DX0RJQUxPR1wiO1xyXG5jb25zdCBXQVRFUkZBTExfRElBTE9HID0gXCJXQVRFUkZBTExfRElBTE9HXCI7XHJcbmNvbnN0IFRFWFRfUFJPTVBUID0gXCJURVhUX1BST01QVFwiO1xyXG5jb25zdCBDSE9JQ0VfUFJPTVBUID0gXCJDSE9JQ0VfUFJPTVBUXCI7XHJcblxyXG4vKipcclxuICogVGhlIGRpYWxvZyBmb3IgdXNlciB0byBjaG9vc2Ugd2hhdCB0aGV5IHdhbnQgdG8gZG8gd2l0aCB0aGUgZG9jdW1lbnQgdGhhdCBoYXMgYmVlbiBzZW50IGJ5IHRoZW0uXHJcbiAqIEBjbGFzcyBEb2NEaWFsb2dcclxuICogQGV4dGVuZHMge0NvbXBvbmVudERpYWxvZ31cclxuICovXHJcbmNsYXNzIERvY0RpYWxvZyBleHRlbmRzIENvbXBvbmVudERpYWxvZyB7XHJcbiAgY29uc3RydWN0b3IobWFpbklkKSB7XHJcbiAgICBzdXBlcihET0NfRElBTE9HKTtcclxuICAgIHRoaXMubWFpbklkID0gbWFpbklkO1xyXG4gICAgdGhpcy5zdW0gPSBcIlwiO1xyXG4gICAgdGhpcy5mb3JtID0gXCJcIjtcclxuICAgIHRoaXMucXVlcnkgPSBcIlwiO1xyXG4gICAgdGhpcy5maWxlcGF0aCA9IFwiXCI7XHJcblxyXG4gICAgdGhpcy5hZGREaWFsb2cobmV3IFRleHRQcm9tcHQoVEVYVF9QUk9NUFQpKTtcclxuICAgIHRoaXMuYWRkRGlhbG9nKG5ldyBDaG9pY2VQcm9tcHQoQ0hPSUNFX1BST01QVCkpO1xyXG4gICAgdGhpcy5hZGREaWFsb2coXHJcbiAgICAgIG5ldyBXYXRlcmZhbGxEaWFsb2coV0FURVJGQUxMX0RJQUxPRywgW1xyXG4gICAgICAgIHRoaXMuYmVnaW5TdGVwLmJpbmQodGhpcyksXHJcbiAgICAgICAgdGhpcy5kZWFsU3RlcC5iaW5kKHRoaXMpLFxyXG4gICAgICAgIHRoaXMuYW5zd2VyU3RlcC5iaW5kKHRoaXMpLFxyXG4gICAgICBdKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmluaXRpYWxEaWFsb2dJZCA9IFdBVEVSRkFMTF9ESUFMT0c7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBIHdhdGVyZmFsbCBzdGVwIGZvciB1c2VyIHRvIGNob29zZSB3aGF0IGluZm8gdGhleSB3YW50XHJcbiAgICogQHBhcmFtIHsqfSBzdGVwQ29udGV4dFxyXG4gICAqIEByZXR1cm4geyp9XHJcbiAgICogQG1lbWJlcm9mIERvY0RpYWxvZ1xyXG4gICAqL1xyXG4gIGFzeW5jIGJlZ2luU3RlcChzdGVwQ29udGV4dCkge1xyXG4gICAgaWYgKHN0ZXBDb250ZXh0Lm9wdGlvbnMucmVzdGFydE1zZykge1xyXG4gICAgICAvLyBpZiB0aGUgZGlhbG9nIHdhcyByZXN0YXJ0ZWQsIHByb21wdCBkaXJlY3RseS5cclxuICAgICAgcmV0dXJuIGF3YWl0IHN0ZXBDb250ZXh0LnByb21wdChDSE9JQ0VfUFJPTVBULCB7XHJcbiAgICAgICAgcHJvbXB0OiBcIkFueXRoaW5nIGVsc2UgZm9yIHRoZSBkb2N1bWVudD9cIixcclxuICAgICAgICBjaG9pY2VzOiBDaG9pY2VGYWN0b3J5LnRvQ2hvaWNlcyhbXHJcbiAgICAgICAgICBcInN1bW1hcml6ZSBpdFwiLFxyXG4gICAgICAgICAgXCJleHRyYWN0IHRhYmxlXCIsXHJcbiAgICAgICAgICBcIlFuQSBhYm91dCBpdFwiLFxyXG4gICAgICAgICAgXCJub1wiLFxyXG4gICAgICAgIF0pLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGlmIHRoZSBkaWFsb2cgd2FzIGluaXRpYXRlZCwgY29sbGVjdCBpbmZvIHBhc3NlZCBieSBtYWluRGlhbG9nLlxyXG4gICAgICB0aGlzLnN1bSA9IHN0ZXBDb250ZXh0Lm9wdGlvbnMuc3VtID8gc3RlcENvbnRleHQub3B0aW9ucy5zdW0gOiB0aGlzLnN1bTtcclxuICAgICAgdGhpcy5xdWVyeSA9IHN0ZXBDb250ZXh0Lm9wdGlvbnMucXVlcnlcclxuICAgICAgICA/IHN0ZXBDb250ZXh0Lm9wdGlvbnMucXVlcnlcclxuICAgICAgICA6IHRoaXMucXVlcnk7XHJcbiAgICAgIHRoaXMuZm9ybSA9IHN0ZXBDb250ZXh0Lm9wdGlvbnMuZm9ybVxyXG4gICAgICAgID8gc3RlcENvbnRleHQub3B0aW9ucy5mb3JtXHJcbiAgICAgICAgOiB0aGlzLmZvcm07XHJcbiAgICAgIHRoaXMuZmlsZXBhdGggPSBzdGVwQ29udGV4dC5vcHRpb25zLmZpbGVwYXRoXHJcbiAgICAgICAgPyBzdGVwQ29udGV4dC5vcHRpb25zLmZpbGVwYXRoXHJcbiAgICAgICAgOiB0aGlzLmZpbGVwYXRoO1xyXG4gICAgICByZXR1cm4gYXdhaXQgc3RlcENvbnRleHQucHJvbXB0KENIT0lDRV9QUk9NUFQsIHtcclxuICAgICAgICBwcm9tcHQ6IFwiSG93IGNhbiBJIGhlbHAgd2l0aCB0aGUgZG9jdW1lbnQ/XCIsXHJcbiAgICAgICAgY2hvaWNlczogQ2hvaWNlRmFjdG9yeS50b0Nob2ljZXMoW1xyXG4gICAgICAgICAgXCJzdW1tYXJpemUgaXRcIixcclxuICAgICAgICAgIFwiZXh0cmFjdCB0YWJsZVwiLFxyXG4gICAgICAgICAgXCJRbkEgYWJvdXQgaXRcIixcclxuICAgICAgICBdKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBIHdhdGVyZmFsbCBzdGVwIHRvIHNlbmQgaW5mbyB0aGF0IHVzZXIgaGFzIGFza2VyIGZvclxyXG4gICAqIEBwYXJhbSB7Kn0gc3RlcFxyXG4gICAqIEByZXR1cm4geyp9XHJcbiAgICogQG1lbWJlcm9mIERvY0RpYWxvZ1xyXG4gICAqL1xyXG4gIGFzeW5jIGRlYWxTdGVwKHN0ZXApIHtcclxuICAgIGNvbnNvbGUubG9nKHN0ZXAucmVzdWx0LnZhbHVlKTtcclxuICAgIGNvbnN0IGNob2ljZSA9IHN0ZXAucmVzdWx0LnZhbHVlO1xyXG4gICAgaWYgKGNob2ljZSA9PSBcInN1bW1hcml6ZSBpdFwiKSB7XHJcbiAgICAgIGlmICh0aGlzLnN1bSkge1xyXG4gICAgICAgIGF3YWl0IHN0ZXAuY29udGV4dC5zZW5kQWN0aXZpdHkodGhpcy5zdW0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IHN0ZXAuY29udGV4dC5zZW5kQWN0aXZpdHkoXCJTdW1tYXJpemF0aW9uIGZhaWxlZC5cIik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoY2hvaWNlID09IFwiZXh0cmFjdCB0YWJsZVwiKSB7XHJcbiAgICAgIGlmICh0aGlzLmZvcm0pIHtcclxuICAgICAgICBpZiAodGhpcy5mb3JtICE9IFwiTm8gVGFibGUgRm91bmRcIikge1xyXG4gICAgICAgICAgYXdhaXQgc3RlcC5jb250ZXh0LnNlbmRBY3Rpdml0eSh0aGlzLmZvcm1hdFRhYmxlKHRoaXMuZm9ybSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhd2FpdCBzdGVwLmNvbnRleHQuc2VuZEFjdGl2aXR5KHRoaXMuZm9ybSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IHN0ZXAuY29udGV4dC5zZW5kQWN0aXZpdHkoXCJUYWJsZSByZWNvZ25pdGlvbiBmYWlsZWQuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGNob2ljZSA9PSBcIlFuQSBhYm91dCBpdFwiKSB7XHJcbiAgICAgIGlmICh0aGlzLnF1ZXJ5KSB7XHJcbiAgICAgICAgLy9hc2sgd2hhdCB0aGUgcXVlc3Rpb24gaXMgZnJvbSB0aGUgdXNlclxyXG4gICAgICAgIHJldHVybiBhd2FpdCBzdGVwLnByb21wdChURVhUX1BST01QVCwge1xyXG4gICAgICAgICAgcHJvbXB0OiBcIldoYXQgaXMgdGhlIHF1ZXN0aW9uP1wiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IHN0ZXAuY29udGV4dC5zZW5kQWN0aXZpdHkoXCJRQSBzeXN0ZW0gcHJlcHJvY2Vzc2luZyBmYWlsZWQuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gYXdhaXQgc3RlcC5lbmREaWFsb2coKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXdhaXQgc3RlcC5yZXBsYWNlRGlhbG9nKHRoaXMuaW5pdGlhbERpYWxvZ0lkLCB7XHJcbiAgICAgIHJlc3RhcnRNc2c6IFwiV2hhdCBlbHNlIGNhbiBJIGRvIGZvciB5b3U/XCIsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEEgd2F0ZXJmYWxsIGRpYWxvZyB0byByZXRyaWV2ZSBhbnN3ZXIgZnJvbSBRQSBzeXN0ZW0gdmlhIEhUVFAgR0VUIHJlcXVlc3RcclxuICAgKiBAcGFyYW0geyp9IHN0ZXBcclxuICAgKiBAcmV0dXJuIHsqfVxyXG4gICAqIEBtZW1iZXJvZiBEb2NEaWFsb2dcclxuICAgKi9cclxuICBhc3luYyBhbnN3ZXJTdGVwKHN0ZXApIHtcclxuICAgIHZhciBxdWVzdGlvbiA9IHN0ZXAucmVzdWx0O1xyXG4gICAgYXdhaXQgc3RlcC5jb250ZXh0LnNlbmRBY3Rpdml0eShcIlNlYXJjaGluZyBmb3IgdGhlIGFuc3dlci4uLlwiKTtcclxuICAgIGNvbnNvbGUubG9nKFwicXVlc3Rpb246IFwiICsgcXVlc3Rpb24pO1xyXG4gICAgbGV0IGFuc3dlciA9IGF3YWl0IGF4aW9zXHJcbiAgICAgIC5nZXQoXCJodHRwOi8vMjAuNzcuNTcuNjA6ODAwMD9xdWVyeT1cIiArIHF1ZXN0aW9uKSAvL2h0dHA6Ly8yMC43Ny41Ny42MDo4MDAwP3F1ZXJ5PVdobyBpcyB0aGUgZm91bmRlciBvZiBVQ0w/XHJcbiAgICAgIC50aGVuKFxyXG4gICAgICAgICh2KSA9PlxyXG4gICAgICAgICAgXCJhbnN3ZXI6IFwiICsgdi5kYXRhLmFuc3dlciArIFwiIFxcclxcblwiICsgXCJjb250ZXh0OiBcIiArIHYuZGF0YS5jb250ZXh0XHJcbiAgICAgIClcclxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICBhd2FpdCBzdGVwLmNvbnRleHQuc2VuZEFjdGl2aXR5KGFuc3dlcik7XHJcbiAgICByZXR1cm4gYXdhaXQgc3RlcC5yZXBsYWNlRGlhbG9nKHRoaXMuaW5pdGlhbERpYWxvZ0lkLCB7XHJcbiAgICAgIHJlc3RhcnRNc2c6IFwiV2hhdCBlbHNlIGNhbiBJIGRvIGZvciB5b3U/XCIsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBtZXRob2QgdG8gcGFyc2UgdGhlIHRhYmxlIGRhdGEgc2VudCBpbiBqc29uXHJcbiAgICogQHBhcmFtIHsqfSB0YWJsZXMgYXMgYW4gYXJyYXlcclxuICAgKiBAcmV0dXJuIGEgc3RyaW5nXHJcbiAgICogQG1lbWJlcm9mIERvY0RpYWxvZ1xyXG4gICAqL1xyXG4gIGZvcm1hdFRhYmxlKHRhYmxlcykge1xyXG4gICAgdmFyIGZvcm1hdHRlZCA9IFwiXCI7XHJcbiAgICB2YXIgbnRoID0gMTtcclxuICAgIHdoaWxlICh0YWJsZXNbbnRoIC0gMV0gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGZvcm1hdHRlZCArPSBcIlRhYmxlIFwiICsgbnRoICsgXCI6IFxcclxcblwiO1xyXG4gICAgICBmb3JtYXR0ZWQgKz0gdGhpcy5jb2x1bURpdmlkZXIodGFibGVzW250aCAtIDFdKTtcclxuICAgICAgbnRoKys7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZm9ybWF0dGVkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIG1ldGhvZCB1c2VkIHRvIHBhcnNlIHRhYmxlIGRhdGFcclxuICAgKiBAcGFyYW0geyp9IHN0cmluZ1xyXG4gICAqIEByZXR1cm4gYSBzdHJpbmdcclxuICAgKiBAbWVtYmVyb2YgRG9jRGlhbG9nXHJcbiAgICovXHJcbiAgY29sdW1EaXZpZGVyKHN0cmluZykge1xyXG4gICAgdmFyIG9uZVRhYmxlID0gXCJcIjtcclxuICAgIHZhciBjb2x1bW5zID0gW107XHJcbiAgICBjb2x1bW5zID0gdGhpcy5nZXRSaWRTaWRlcyhzdHJpbmcpLnNwbGl0KFwifVwiKTtcclxuICAgIHZhciBpdGVtID0gMTtcclxuICAgIHdoaWxlIChjb2x1bW5zW2l0ZW0gLSAxXSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgdmFyIGVsZW1lbnQgPSBjb2x1bW5zW2l0ZW0gLSAxXS5zcGxpdChcIntcIilbMV07XHJcbiAgICAgIGlmIChlbGVtZW50ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIG9uZVRhYmxlICs9IFwiQ29sdW1uIFwiICsgaXRlbSArIFwiOiBcIiArIHRoaXMuZGl2aWRlKGVsZW1lbnQpICsgXCIgXFxyXFxuXCI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGl0ZW0rKztcclxuICAgIH1cclxuICAgIHJldHVybiBvbmVUYWJsZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBtZXRob2QgdXNlZCB0byBwYXJzZSB0YWJsZSBkYXRhXHJcbiAgICogQHBhcmFtIHsqfSBzdHJpbmdcclxuICAgKiBAcmV0dXJuIGFuIGFycmF5XHJcbiAgICogQG1lbWJlcm9mIERvY0RpYWxvZ1xyXG4gICAqL1xyXG4gIGRpdmlkZShzdHJpbmcpIHtcclxuICAgIHZhciBjb2x1bW4gPSBbXTtcclxuICAgIHZhciBhcnIgPSBbXTtcclxuICAgIGFyciA9IHN0cmluZy5zcGxpdChcIixcIik7XHJcbiAgICB2YXIgaXRlbSA9IDA7XHJcbiAgICB3aGlsZSAoYXJyW2l0ZW1dICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICB2YXIgZWxlbWVudCA9IGFycltpdGVtXS5zcGxpdChcIjpcIilbMV07XHJcbiAgICAgIGNvbHVtbi5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICBpdGVtKys7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29sdW1uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIG1ldGhvZCB1c2VkIHRvIHBhcnNlIHRhYmxlIGRhdGFcclxuICAgKiBAcGFyYW0geyp9IHN0clxyXG4gICAqIEByZXR1cm4gYSBzdHJpbmdcclxuICAgKiBAbWVtYmVyb2YgRG9jRGlhbG9nXHJcbiAgICovXHJcbiAgZ2V0UmlkU2lkZXMoc3RyKSB7XHJcbiAgICByZXR1cm4gc3RyLnNsaWNlKDEsIHN0ci5sZW5ndGggLSAxKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHNldHRlciBmb3Igc3VtXHJcbiAgICogQG1lbWJlcm9mIERvY0RpYWxvZ1xyXG4gICAqL1xyXG4gIHNldCBhKG4pIHtcclxuICAgIHRoaXMuc3VtID0gbjtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogc2V0dGVyIGZvciBxdWVyeVxyXG4gICAqIEBtZW1iZXJvZiBEb2NEaWFsb2dcclxuICAgKi9cclxuICBzZXQgYihuKSB7XHJcbiAgICB0aGlzLnF1ZXJ5ID0gbjtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogc2V0dGVyIGZvciBmb3JtXHJcbiAgICogQG1lbWJlcm9mIERvY0RpYWxvZ1xyXG4gICAqL1xyXG4gIHNldCBjKG4pIHtcclxuICAgIHRoaXMuZm9ybSA9IG47XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5Eb2NEaWFsb2cgPSBEb2NEaWFsb2c7XHJcbm1vZHVsZS5leHBvcnRzLkRPQ19ESUFMT0cgPSBET0NfRElBTE9HO1xyXG4iXX0=