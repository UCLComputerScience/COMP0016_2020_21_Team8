function cov_13uzh0bhr2(){var path="/Users/doudou/COMP0016_2020_21_Team8/AvabotTeam8-src/dialogs/mainDialog.js";var hash="db2b9b05bd22e63fc306c34408f4b2f13f1b1db3";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/doudou/COMP0016_2020_21_Team8/AvabotTeam8-src/dialogs/mainDialog.js",statementMap:{"0":{start:{line:4,column:13},end:{line:4,column:28}},"1":{start:{line:5,column:14},end:{line:5,column:30}},"2":{start:{line:6,column:11},end:{line:6,column:24}},"3":{start:{line:7,column:12},end:{line:7,column:31}},"4":{start:{line:8,column:15},end:{line:8,column:35}},"5":{start:{line:17,column:4},end:{line:17,column:33}},"6":{start:{line:18,column:40},end:{line:18,column:65}},"7":{start:{line:19,column:34},end:{line:19,column:56}},"8":{start:{line:21,column:26},end:{line:21,column:45}},"9":{start:{line:22,column:22},end:{line:22,column:37}},"10":{start:{line:23,column:25},end:{line:23,column:43}},"11":{start:{line:27,column:4},end:{line:27,column:24}},"12":{start:{line:29,column:4},end:{line:29,column:39}},"13":{start:{line:30,column:4},end:{line:30,column:56}},"14":{start:{line:31,column:4},end:{line:31,column:52}},"15":{start:{line:32,column:4},end:{line:34,column:6}},"16":{start:{line:36,column:4},end:{line:43,column:6}},"17":{start:{line:45,column:4},end:{line:45,column:44}},"18":{start:{line:55,column:22},end:{line:55,column:45}},"19":{start:{line:56,column:4},end:{line:56,column:24}},"20":{start:{line:58,column:26},end:{line:58,column:68}},"21":{start:{line:59,column:20},end:{line:59,column:56}},"22":{start:{line:60,column:4},end:{line:62,column:5}},"23":{start:{line:61,column:6},end:{line:61,column:47}},"24":{start:{line:68,column:16},end:{line:70,column:32}},"25":{start:{line:71,column:4},end:{line:79,column:7}},"26":{start:{line:83,column:19},end:{line:83,column:36}},"27":{start:{line:84,column:4},end:{line:102,column:5}},"28":{start:{line:85,column:6},end:{line:85,column:51}},"29":{start:{line:86,column:11},end:{line:102,column:5}},"30":{start:{line:87,column:26},end:{line:91,column:7}},"31":{start:{line:93,column:6},end:{line:93,column:65}},"32":{start:{line:95,column:26},end:{line:99,column:7}},"33":{start:{line:101,column:6},end:{line:101,column:65}},"34":{start:{line:106,column:4},end:{line:160,column:5}},"35":{start:{line:107,column:17},end:{line:107,column:43}},"36":{start:{line:108,column:17},end:{line:108,column:66}},"37":{start:{line:109,column:6},end:{line:109,column:24}},"38":{start:{line:110,column:6},end:{line:159,column:7}},"39":{start:{line:111,column:8},end:{line:158,column:9}},"40":{start:{line:112,column:10},end:{line:114,column:12}},"41":{start:{line:115,column:28},end:{line:115,column:52}},"42":{start:{line:116,column:10},end:{line:118,column:28}},"43":{start:{line:117,column:12},end:{line:117,column:32}},"44":{start:{line:119,column:10},end:{line:124,column:13}},"45":{start:{line:126,column:29},end:{line:126,column:31}},"46":{start:{line:127,column:10},end:{line:129,column:12}},"47":{start:{line:130,column:21},end:{line:130,column:35}},"48":{start:{line:131,column:10},end:{line:131,column:58}},"49":{start:{line:132,column:10},end:{line:147,column:15}},"50":{start:{line:140,column:22},end:{line:140,column:35}},"51":{start:{line:141,column:14},end:{line:143,column:17}},"52":{start:{line:142,column:16},end:{line:142,column:44}},"53":{start:{line:146,column:14},end:{line:146,column:33}},"54":{start:{line:148,column:10},end:{line:150,column:28}},"55":{start:{line:149,column:12},end:{line:149,column:32}},"56":{start:{line:151,column:10},end:{line:157,column:11}},"57":{start:{line:152,column:12},end:{line:152,column:58}},"58":{start:{line:154,column:12},end:{line:156,column:14}},"59":{start:{line:161,column:4},end:{line:161,column:29}},"60":{start:{line:165,column:4},end:{line:167,column:7}},"61":{start:{line:171,column:16},end:{line:171,column:30}},"62":{start:{line:172,column:4},end:{line:172,column:53}},"63":{start:{line:173,column:16},end:{line:173,column:30}},"64":{start:{line:174,column:4},end:{line:174,column:53}},"65":{start:{line:175,column:16},end:{line:175,column:30}},"66":{start:{line:176,column:4},end:{line:176,column:53}},"67":{start:{line:178,column:17},end:{line:198,column:5}},"68":{start:{line:199,column:17},end:{line:199,column:19}},"69":{start:{line:200,column:4},end:{line:210,column:7}},"70":{start:{line:201,column:6},end:{line:209,column:9}},"71":{start:{line:202,column:8},end:{line:202,column:35}},"72":{start:{line:203,column:8},end:{line:208,column:9}},"73":{start:{line:204,column:10},end:{line:204,column:41}},"74":{start:{line:205,column:10},end:{line:205,column:53}},"75":{start:{line:207,column:10},end:{line:207,column:25}},"76":{start:{line:211,column:4},end:{line:211,column:29}},"77":{start:{line:212,column:4},end:{line:212,column:24}},"78":{start:{line:213,column:4},end:{line:213,column:18}},"79":{start:{line:218,column:21},end:{line:220,column:5}},"80":{start:{line:221,column:28},end:{line:221,column:55}},"81":{start:{line:226,column:6},end:{line:236,column:7}},"82":{start:{line:229,column:8},end:{line:231,column:10}},"83":{start:{line:232,column:8},end:{line:232,column:45}},"84":{start:{line:234,column:8},end:{line:234,column:77}},"85":{start:{line:235,column:8},end:{line:235,column:25}},"86":{start:{line:241,column:26},end:{line:243,column:5}},"87":{start:{line:244,column:12},end:{line:244,column:72}},"88":{start:{line:244,column:62},end:{line:244,column:71}},"89":{start:{line:245,column:4},end:{line:245,column:13}},"90":{start:{line:249,column:15},end:{line:249,column:30}},"91":{start:{line:251,column:16},end:{line:251,column:37}},"92":{start:{line:254,column:26},end:{line:254,column:52}},"93":{start:{line:256,column:4},end:{line:267,column:5}},"94":{start:{line:258,column:23},end:{line:258,column:76}},"95":{start:{line:259,column:6},end:{line:263,column:9}},"96":{start:{line:260,column:8},end:{line:262,column:9}},"97":{start:{line:261,column:10},end:{line:261,column:24}},"98":{start:{line:265,column:6},end:{line:265,column:27}},"99":{start:{line:266,column:6},end:{line:266,column:23}},"100":{start:{line:270,column:4},end:{line:273,column:6}},"101":{start:{line:277,column:4},end:{line:307,column:5}},"102":{start:{line:278,column:20},end:{line:278,column:48}},"103":{start:{line:279,column:24},end:{line:279,column:54}},"104":{start:{line:280,column:21},end:{line:280,column:23}},"105":{start:{line:282,column:6},end:{line:296,column:9}},"106":{start:{line:283,column:8},end:{line:295,column:9}},"107":{start:{line:288,column:10},end:{line:288,column:36}},"108":{start:{line:289,column:15},end:{line:295,column:9}},"109":{start:{line:294,column:10},end:{line:294,column:36}},"110":{start:{line:298,column:6},end:{line:298,column:48}},"111":{start:{line:301,column:6},end:{line:301,column:31}},"112":{start:{line:303,column:6},end:{line:303,column:75}},"113":{start:{line:306,column:6},end:{line:306,column:18}},"114":{start:{line:311,column:0},end:{line:311,column:39}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:16},end:{line:46,column:3}},line:26},"1":{name:"(anonymous_1)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:35},end:{line:63,column:3}},line:54},"2":{name:"(anonymous_2)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:24},end:{line:80,column:3}},line:65},"3":{name:"(anonymous_3)",decl:{start:{line:82,column:2},end:{line:82,column:3}},loc:{start:{line:82,column:25},end:{line:103,column:3}},line:82},"4":{name:"(anonymous_4)",decl:{start:{line:105,column:2},end:{line:105,column:3}},loc:{start:{line:105,column:22},end:{line:162,column:3}},line:105},"5":{name:"(anonymous_5)",decl:{start:{line:139,column:18},end:{line:139,column:19}},loc:{start:{line:139,column:38},end:{line:144,column:13}},line:139},"6":{name:"(anonymous_6)",decl:{start:{line:141,column:24},end:{line:141,column:25}},loc:{start:{line:141,column:34},end:{line:143,column:15}},line:141},"7":{name:"(anonymous_7)",decl:{start:{line:145,column:19},end:{line:145,column:20}},loc:{start:{line:145,column:36},end:{line:147,column:13}},line:145},"8":{name:"(anonymous_8)",decl:{start:{line:164,column:2},end:{line:164,column:3}},loc:{start:{line:164,column:25},end:{line:168,column:3}},line:164},"9":{name:"(anonymous_9)",decl:{start:{line:170,column:2},end:{line:170,column:3}},loc:{start:{line:170,column:22},end:{line:214,column:3}},line:170},"10":{name:"(anonymous_10)",decl:{start:{line:200,column:42},end:{line:200,column:43}},loc:{start:{line:200,column:55},end:{line:210,column:5}},line:200},"11":{name:"(anonymous_11)",decl:{start:{line:201,column:22},end:{line:201,column:23}},loc:{start:{line:201,column:34},end:{line:209,column:7}},line:201},"12":{name:"(anonymous_12)",decl:{start:{line:216,column:2},end:{line:216,column:3}},loc:{start:{line:216,column:46},end:{line:246,column:3}},line:216},"13":{name:"replyForReceivedAttachments",decl:{start:{line:225,column:19},end:{line:225,column:46}},loc:{start:{line:225,column:68},end:{line:237,column:5}},line:225},"14":{name:"(anonymous_14)",decl:{start:{line:244,column:50},end:{line:244,column:51}},loc:{start:{line:244,column:62},end:{line:244,column:71}},line:244},"15":{name:"(anonymous_15)",decl:{start:{line:248,column:2},end:{line:248,column:3}},loc:{start:{line:248,column:47},end:{line:274,column:3}},line:248},"16":{name:"(anonymous_16)",decl:{start:{line:259,column:49},end:{line:259,column:50}},loc:{start:{line:259,column:62},end:{line:263,column:7}},line:259},"17":{name:"(anonymous_17)",decl:{start:{line:276,column:2},end:{line:276,column:3}},loc:{start:{line:276,column:39},end:{line:308,column:3}},line:276},"18":{name:"(anonymous_18)",decl:{start:{line:282,column:26},end:{line:282,column:27}},loc:{start:{line:282,column:42},end:{line:296,column:7}},line:282}},branchMap:{"0":{loc:{start:{line:60,column:4},end:{line:62,column:5}},type:"if",locations:[{start:{line:60,column:4},end:{line:62,column:5}},{start:{line:60,column:4},end:{line:62,column:5}}],line:60},"1":{loc:{start:{line:68,column:16},end:{line:70,column:32}},type:"cond-expr",locations:[{start:{line:69,column:8},end:{line:69,column:31}},{start:{line:70,column:8},end:{line:70,column:32}}],line:68},"2":{loc:{start:{line:84,column:4},end:{line:102,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:102,column:5}},{start:{line:84,column:4},end:{line:102,column:5}}],line:84},"3":{loc:{start:{line:86,column:11},end:{line:102,column:5}},type:"if",locations:[{start:{line:86,column:11},end:{line:102,column:5}},{start:{line:86,column:11},end:{line:102,column:5}}],line:86},"4":{loc:{start:{line:106,column:4},end:{line:160,column:5}},type:"if",locations:[{start:{line:106,column:4},end:{line:160,column:5}},{start:{line:106,column:4},end:{line:160,column:5}}],line:106},"5":{loc:{start:{line:106,column:8},end:{line:106,column:48}},type:"binary-expr",locations:[{start:{line:106,column:8},end:{line:106,column:19}},{start:{line:106,column:23},end:{line:106,column:48}}],line:106},"6":{loc:{start:{line:110,column:6},end:{line:159,column:7}},type:"if",locations:[{start:{line:110,column:6},end:{line:159,column:7}},{start:{line:110,column:6},end:{line:159,column:7}}],line:110},"7":{loc:{start:{line:111,column:8},end:{line:158,column:9}},type:"if",locations:[{start:{line:111,column:8},end:{line:158,column:9}},{start:{line:111,column:8},end:{line:158,column:9}}],line:111},"8":{loc:{start:{line:151,column:10},end:{line:157,column:11}},type:"if",locations:[{start:{line:151,column:10},end:{line:157,column:11}},{start:{line:151,column:10},end:{line:157,column:11}}],line:151},"9":{loc:{start:{line:203,column:8},end:{line:208,column:9}},type:"if",locations:[{start:{line:203,column:8},end:{line:208,column:9}},{start:{line:203,column:8},end:{line:208,column:9}}],line:203},"10":{loc:{start:{line:226,column:6},end:{line:236,column:7}},type:"if",locations:[{start:{line:226,column:6},end:{line:236,column:7}},{start:{line:226,column:6},end:{line:236,column:7}}],line:226},"11":{loc:{start:{line:260,column:8},end:{line:262,column:9}},type:"if",locations:[{start:{line:260,column:8},end:{line:262,column:9}},{start:{line:260,column:8},end:{line:262,column:9}}],line:260},"12":{loc:{start:{line:277,column:4},end:{line:307,column:5}},type:"if",locations:[{start:{line:277,column:4},end:{line:307,column:5}},{start:{line:277,column:4},end:{line:307,column:5}}],line:277},"13":{loc:{start:{line:283,column:8},end:{line:295,column:9}},type:"if",locations:[{start:{line:283,column:8},end:{line:295,column:9}},{start:{line:283,column:8},end:{line:295,column:9}}],line:283},"14":{loc:{start:{line:284,column:10},end:{line:285,column:54}},type:"binary-expr",locations:[{start:{line:284,column:10},end:{line:284,column:56}},{start:{line:285,column:10},end:{line:285,column:54}}],line:284},"15":{loc:{start:{line:289,column:15},end:{line:295,column:9}},type:"if",locations:[{start:{line:289,column:15},end:{line:295,column:9}},{start:{line:289,column:15},end:{line:295,column:9}}],line:289},"16":{loc:{start:{line:290,column:10},end:{line:292,column:51}},type:"binary-expr",locations:[{start:{line:290,column:10},end:{line:290,column:47}},{start:{line:291,column:11},end:{line:291,column:50}},{start:{line:292,column:12},end:{line:292,column:50}}],line:290}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"db2b9b05bd22e63fc306c34408f4b2f13f1b1db3"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_13uzh0bhr2=function(){return actualCoverage;};}return actualCoverage;}cov_13uzh0bhr2();// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
const path=(cov_13uzh0bhr2().s[0]++,require("path"));const axios=(cov_13uzh0bhr2().s[1]++,require("axios"));const fs=(cov_13uzh0bhr2().s[2]++,require("fs"));const fse=(cov_13uzh0bhr2().s[3]++,require("fs-extra"));var FormData=(cov_13uzh0bhr2().s[4]++,require("form-data"));const{AttachmentPrompt,ChoiceFactory,ChoicePrompt,ComponentDialog,DialogSet,DialogTurnStatus,WaterfallDialog}=(cov_13uzh0bhr2().s[5]++,require("botbuilder-dialogs"));const{AnswerDialog,ANSWER_DIALOG}=(cov_13uzh0bhr2().s[6]++,require("./answerDialog"));const{DocDialog,DOC_DIALOG}=(cov_13uzh0bhr2().s[7]++,require("./docDialog"));const ATTACHMENT_PROMPT=(cov_13uzh0bhr2().s[8]++,"ATTACHMENT_PROMPT");const CHOICE_PROMPT=(cov_13uzh0bhr2().s[9]++,"CHOICE_PROMPT");const WATERFALL_DIALOG=(cov_13uzh0bhr2().s[10]++,"WATERFALL_DIALOG");class MainDialog extends ComponentDialog{constructor(){cov_13uzh0bhr2().f[0]++;cov_13uzh0bhr2().s[11]++;super("mainDialog");cov_13uzh0bhr2().s[12]++;this.addDialog(new AnswerDialog());cov_13uzh0bhr2().s[13]++;this.addDialog(new DocDialog(this.initialDialogId));cov_13uzh0bhr2().s[14]++;this.addDialog(new ChoicePrompt(CHOICE_PROMPT));cov_13uzh0bhr2().s[15]++;this.addDialog(new AttachmentPrompt(ATTACHMENT_PROMPT,this.promptValidator));cov_13uzh0bhr2().s[16]++;this.addDialog(new WaterfallDialog(WATERFALL_DIALOG,[this.startStep.bind(this),this.chooseStep.bind(this),this.docStep.bind(this),this.repeatStep.bind(this)]));cov_13uzh0bhr2().s[17]++;this.initialDialogId=WATERFALL_DIALOG;}/**
   * The run method handles the incoming activity (in the form of a TurnContext) and passes it through the dialog system.
   * If no dialog is active, it will start the default dialog.
   * @param {*} turnContext
   * @param {*} accessor
   */async run(turnContext,accessor){cov_13uzh0bhr2().f[1]++;const dialogSet=(cov_13uzh0bhr2().s[18]++,new DialogSet(accessor));cov_13uzh0bhr2().s[19]++;dialogSet.add(this);const dialogContext=(cov_13uzh0bhr2().s[20]++,await dialogSet.createContext(turnContext));const results=(cov_13uzh0bhr2().s[21]++,await dialogContext.continueDialog());cov_13uzh0bhr2().s[22]++;if(results.status===DialogTurnStatus.empty){cov_13uzh0bhr2().b[0][0]++;cov_13uzh0bhr2().s[23]++;await dialogContext.beginDialog(this.id);}else{cov_13uzh0bhr2().b[0][1]++;}}async startStep(step){cov_13uzh0bhr2().f[2]++;// WaterfallStep always finishes with the end of the Waterfall or with another dialog; here it is a Prompt Dialog.
// Running a prompt here means the next WaterfallStep will be run when the user's response is received.
const msg=(cov_13uzh0bhr2().s[24]++,step.options.restartMsg?(cov_13uzh0bhr2().b[1][0]++,step.options.restartMsg):(cov_13uzh0bhr2().b[1][1]++,"What can I do for you?"));cov_13uzh0bhr2().s[25]++;return await step.prompt(CHOICE_PROMPT,{prompt:msg,choices:ChoiceFactory.toChoices(["ask a question","process a document",,"recognize an image"])});}async chooseStep(step){cov_13uzh0bhr2().f[3]++;const choice=(cov_13uzh0bhr2().s[26]++,step.result.value);cov_13uzh0bhr2().s[27]++;if(choice=="ask a question"){cov_13uzh0bhr2().b[2][0]++;cov_13uzh0bhr2().s[28]++;return await step.beginDialog(ANSWER_DIALOG);}else{cov_13uzh0bhr2().b[2][1]++;cov_13uzh0bhr2().s[29]++;if(choice=="process a document"){cov_13uzh0bhr2().b[3][0]++;var promptOptions=(cov_13uzh0bhr2().s[30]++,{prompt:"Please attach a document in pdf.",retryPrompt:"That was not a document that I can help, please try again with a document in pdf."});cov_13uzh0bhr2().s[31]++;return await step.prompt(ATTACHMENT_PROMPT,promptOptions);}else{cov_13uzh0bhr2().b[3][1]++;var promptOptions=(cov_13uzh0bhr2().s[32]++,{prompt:"Please attach an image.",retryPrompt:"That was not an image that I can help, please try again with an image in png/jpg."});cov_13uzh0bhr2().s[33]++;return await step.prompt(ATTACHMENT_PROMPT,promptOptions);}}}async docStep(step){cov_13uzh0bhr2().f[4]++;cov_13uzh0bhr2().s[34]++;if((cov_13uzh0bhr2().b[5][0]++,step.result)&&(cov_13uzh0bhr2().b[5][1]++,step.result[0].contentUrl)){cov_13uzh0bhr2().b[4][0]++;var type=(cov_13uzh0bhr2().s[35]++,step.result[0].contentType);var path=(cov_13uzh0bhr2().s[36]++,await this.handleIncomingAttachment(step.context));cov_13uzh0bhr2().s[37]++;console.log(path);cov_13uzh0bhr2().s[38]++;if(path){cov_13uzh0bhr2().b[6][0]++;cov_13uzh0bhr2().s[39]++;if(type==="application/pdf"){cov_13uzh0bhr2().b[7][0]++;cov_13uzh0bhr2().s[40]++;await step.context.sendActivity("Processing the document, please wait, it will take around 55 seconds");var req_results=(cov_13uzh0bhr2().s[41]++,await this.sendReq(path));cov_13uzh0bhr2().s[42]++;try{cov_13uzh0bhr2().s[43]++;fs.unlinkSync(path);}catch(error){}cov_13uzh0bhr2().s[44]++;return await step.beginDialog(DOC_DIALOG,{sum:req_results[0],query:req_results[1],form:req_results[2],filepath:path});}else{cov_13uzh0bhr2().b[7][1]++;var image_result=(cov_13uzh0bhr2().s[45]++,"");cov_13uzh0bhr2().s[46]++;await step.context.sendActivity("Processing the image, please wait, it will take around 15 seconds");var form=(cov_13uzh0bhr2().s[47]++,new FormData());cov_13uzh0bhr2().s[48]++;form.append("file",fse.createReadStream(path));cov_13uzh0bhr2().s[49]++;await axios({method:"post",url:"http://avabotformrecog.azurewebsites.net/api/FormRecogFunction?type=BusinessCard",data:form,headers:form.getHeaders()}).then(function(response){cov_13uzh0bhr2().f[5]++;var a=(cov_13uzh0bhr2().s[50]++,response.data);cov_13uzh0bhr2().s[51]++;a.forEach(line=>{cov_13uzh0bhr2().f[6]++;cov_13uzh0bhr2().s[52]++;image_result+=line+"\n";});}).catch(function(error){cov_13uzh0bhr2().f[7]++;cov_13uzh0bhr2().s[53]++;console.log(error);});cov_13uzh0bhr2().s[54]++;try{cov_13uzh0bhr2().s[55]++;fs.unlinkSync(path);}catch(error){}cov_13uzh0bhr2().s[56]++;if(image_result){cov_13uzh0bhr2().b[8][0]++;cov_13uzh0bhr2().s[57]++;await step.context.sendActivity(image_result);}else{cov_13uzh0bhr2().b[8][1]++;cov_13uzh0bhr2().s[58]++;await step.context.sendActivity("Recognition failed, no pattern found");}}}else{cov_13uzh0bhr2().b[6][1]++;}}else{cov_13uzh0bhr2().b[4][1]++;}cov_13uzh0bhr2().s[59]++;return await step.next();}async repeatStep(step){cov_13uzh0bhr2().f[8]++;cov_13uzh0bhr2().s[60]++;return await step.replaceDialog(this.initialDialogId,{restartMsg:"What else can I do for you?"});}async sendReq(path){cov_13uzh0bhr2().f[9]++;var form1=(cov_13uzh0bhr2().s[61]++,new FormData());cov_13uzh0bhr2().s[62]++;form1.append("file",fse.createReadStream(path));var form2=(cov_13uzh0bhr2().s[63]++,new FormData());cov_13uzh0bhr2().s[64]++;form2.append("file",fse.createReadStream(path));var form3=(cov_13uzh0bhr2().s[65]++,new FormData());cov_13uzh0bhr2().s[66]++;form3.append("file",fse.createReadStream(path));let reqArr=(cov_13uzh0bhr2().s[67]++,[axios({method:"post",url:"https://textsumapi.azurewebsites.net/api/TextSummary",data:form1,headers:form1.getHeaders()}),axios({method:"post",url:"http://20.77.57.60:5000",data:form2,headers:form2.getHeaders()}),axios({method:"post",url:"https://avabotformrecog.azurewebsites.net/api/FormRecogFunction?type=Layout",data:form3,headers:form3.getHeaders()})]);var output=(cov_13uzh0bhr2().s[68]++,[]);cov_13uzh0bhr2().s[69]++;await Promise.allSettled(reqArr).then(results=>{cov_13uzh0bhr2().f[10]++;cov_13uzh0bhr2().s[70]++;results.forEach(result=>{cov_13uzh0bhr2().f[11]++;cov_13uzh0bhr2().s[71]++;console.log(result.status);cov_13uzh0bhr2().s[72]++;if(result.status=="fulfilled"){cov_13uzh0bhr2().b[9][0]++;cov_13uzh0bhr2().s[73]++;output.push(result.value.data);cov_13uzh0bhr2().s[74]++;console.log("first: "+result.value.data);}else{cov_13uzh0bhr2().b[9][1]++;cov_13uzh0bhr2().s[75]++;output.push(0);}});});cov_13uzh0bhr2().s[76]++;console.log("finished!");cov_13uzh0bhr2().s[77]++;console.log(output);cov_13uzh0bhr2().s[78]++;return output;}async handleIncomingAttachment(turnContext){cov_13uzh0bhr2().f[12]++;// Prepare Promises to download each attachment and then execute each Promise.
const promises=(cov_13uzh0bhr2().s[79]++,await turnContext.activity.attachments.map(this.downloadAttachmentAndWrite));const successfulSaves=(cov_13uzh0bhr2().s[80]++,await Promise.all(promises));// Replies back to the user with information about where the attachment is stored on the bot's server,
// and what the name of the saved file is.
async function replyForReceivedAttachments(localAttachmentData){cov_13uzh0bhr2().f[13]++;cov_13uzh0bhr2().s[81]++;if(localAttachmentData){cov_13uzh0bhr2().b[10][0]++;cov_13uzh0bhr2().s[82]++;// Because the TurnContext was bound to this function, the bot can call
// `TurnContext.sendActivity` via `this.sendActivity`;
await this.sendActivity(`Attachment "${localAttachmentData.fileName}" `+`has been received.`);cov_13uzh0bhr2().s[83]++;return localAttachmentData.localPath;}else{cov_13uzh0bhr2().b[10][1]++;cov_13uzh0bhr2().s[84]++;await this.sendActivity("Attachment was not successfully received.");cov_13uzh0bhr2().s[85]++;return undefined;}}// Prepare Promises to reply to the user with information about saved attachments.
// The current TurnContext is bound so `replyForReceivedAttachments` can also send replies.
const replyPromises=(cov_13uzh0bhr2().s[86]++,successfulSaves.map(replyForReceivedAttachments.bind(turnContext)));let r=(cov_13uzh0bhr2().s[87]++,await Promise.all(replyPromises).then(result=>{cov_13uzh0bhr2().f[14]++;cov_13uzh0bhr2().s[88]++;return result[0];}));cov_13uzh0bhr2().s[89]++;return r;}async downloadAttachmentAndWrite(attachment){cov_13uzh0bhr2().f[15]++;var name=(cov_13uzh0bhr2().s[90]++,attachment.name);// Retrieve the attachment via the attachment's contentUrl.
const url=(cov_13uzh0bhr2().s[91]++,attachment.contentUrl);// Local file path for the bot to save the attachment.
const localFileName=(cov_13uzh0bhr2().s[92]++,path.join(__dirname,name));cov_13uzh0bhr2().s[93]++;try{// arraybuffer is necessary for images
const response=(cov_13uzh0bhr2().s[94]++,await axios.get(url,{responseType:"arraybuffer"}));cov_13uzh0bhr2().s[95]++;fs.writeFile(localFileName,response.data,fsError=>{cov_13uzh0bhr2().f[16]++;cov_13uzh0bhr2().s[96]++;if(fsError){cov_13uzh0bhr2().b[11][0]++;cov_13uzh0bhr2().s[97]++;throw fsError;}else{cov_13uzh0bhr2().b[11][1]++;}});}catch(error){cov_13uzh0bhr2().s[98]++;console.error(error);cov_13uzh0bhr2().s[99]++;return undefined;}// If no error was thrown while writing to disk, return the attachment's name
// and localFilePath for the response back to the user.
cov_13uzh0bhr2().s[100]++;return{fileName:name,localPath:localFileName};}async promptValidator(promptContext){cov_13uzh0bhr2().f[17]++;cov_13uzh0bhr2().s[101]++;if(promptContext.recognized.succeeded){cov_13uzh0bhr2().b[12][0]++;var docType=(cov_13uzh0bhr2().s[102]++,promptContext.options.prompt);var attachments=(cov_13uzh0bhr2().s[103]++,promptContext.recognized.value);var validDoc=(cov_13uzh0bhr2().s[104]++,[]);cov_13uzh0bhr2().s[105]++;attachments.forEach(attachment=>{cov_13uzh0bhr2().f[18]++;cov_13uzh0bhr2().s[106]++;if((cov_13uzh0bhr2().b[14][0]++,docType==="Please attach a document in pdf.")&&(cov_13uzh0bhr2().b[14][1]++,attachment.contentType==="application/pdf")){cov_13uzh0bhr2().b[13][0]++;cov_13uzh0bhr2().s[107]++;//|| attachment.contentType === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'|| attachment.contentType === 'application/msword'
validDoc.push(attachment);}else{cov_13uzh0bhr2().b[13][1]++;cov_13uzh0bhr2().s[108]++;if((cov_13uzh0bhr2().b[16][0]++,docType==="Please attach an image.")&&((cov_13uzh0bhr2().b[16][1]++,attachment.contentType==="image/jpeg")||(cov_13uzh0bhr2().b[16][2]++,attachment.contentType==="image/png"))){cov_13uzh0bhr2().b[15][0]++;cov_13uzh0bhr2().s[109]++;validDoc.push(attachment);}else{cov_13uzh0bhr2().b[15][1]++;}}});cov_13uzh0bhr2().s[110]++;promptContext.recognized.value=validDoc;// If none of the attachments are valid images, the retry prompt should be sent.
cov_13uzh0bhr2().s[111]++;return!!validDoc.length;}else{cov_13uzh0bhr2().b[12][1]++;cov_13uzh0bhr2().s[112]++;await promptContext.context.sendActivity("No attachments received.");// We can return true from a validator function even if Recognized.Succeeded is false.
cov_13uzh0bhr2().s[113]++;return true;}}}cov_13uzh0bhr2().s[114]++;module.exports.MainDialog=MainDialog;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW5EaWFsb2cuanMiXSwibmFtZXMiOlsicGF0aCIsInJlcXVpcmUiLCJheGlvcyIsImZzIiwiZnNlIiwiRm9ybURhdGEiLCJBdHRhY2htZW50UHJvbXB0IiwiQ2hvaWNlRmFjdG9yeSIsIkNob2ljZVByb21wdCIsIkNvbXBvbmVudERpYWxvZyIsIkRpYWxvZ1NldCIsIkRpYWxvZ1R1cm5TdGF0dXMiLCJXYXRlcmZhbGxEaWFsb2ciLCJBbnN3ZXJEaWFsb2ciLCJBTlNXRVJfRElBTE9HIiwiRG9jRGlhbG9nIiwiRE9DX0RJQUxPRyIsIkFUVEFDSE1FTlRfUFJPTVBUIiwiQ0hPSUNFX1BST01QVCIsIldBVEVSRkFMTF9ESUFMT0ciLCJNYWluRGlhbG9nIiwiY29uc3RydWN0b3IiLCJhZGREaWFsb2ciLCJpbml0aWFsRGlhbG9nSWQiLCJwcm9tcHRWYWxpZGF0b3IiLCJzdGFydFN0ZXAiLCJiaW5kIiwiY2hvb3NlU3RlcCIsImRvY1N0ZXAiLCJyZXBlYXRTdGVwIiwicnVuIiwidHVybkNvbnRleHQiLCJhY2Nlc3NvciIsImRpYWxvZ1NldCIsImFkZCIsImRpYWxvZ0NvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwicmVzdWx0cyIsImNvbnRpbnVlRGlhbG9nIiwic3RhdHVzIiwiZW1wdHkiLCJiZWdpbkRpYWxvZyIsImlkIiwic3RlcCIsIm1zZyIsIm9wdGlvbnMiLCJyZXN0YXJ0TXNnIiwicHJvbXB0IiwiY2hvaWNlcyIsInRvQ2hvaWNlcyIsImNob2ljZSIsInJlc3VsdCIsInZhbHVlIiwicHJvbXB0T3B0aW9ucyIsInJldHJ5UHJvbXB0IiwiY29udGVudFVybCIsInR5cGUiLCJjb250ZW50VHlwZSIsImhhbmRsZUluY29taW5nQXR0YWNobWVudCIsImNvbnRleHQiLCJjb25zb2xlIiwibG9nIiwic2VuZEFjdGl2aXR5IiwicmVxX3Jlc3VsdHMiLCJzZW5kUmVxIiwidW5saW5rU3luYyIsImVycm9yIiwic3VtIiwicXVlcnkiLCJmb3JtIiwiZmlsZXBhdGgiLCJpbWFnZV9yZXN1bHQiLCJhcHBlbmQiLCJjcmVhdGVSZWFkU3RyZWFtIiwibWV0aG9kIiwidXJsIiwiZGF0YSIsImhlYWRlcnMiLCJnZXRIZWFkZXJzIiwidGhlbiIsInJlc3BvbnNlIiwiYSIsImZvckVhY2giLCJsaW5lIiwiY2F0Y2giLCJuZXh0IiwicmVwbGFjZURpYWxvZyIsImZvcm0xIiwiZm9ybTIiLCJmb3JtMyIsInJlcUFyciIsIm91dHB1dCIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwicHVzaCIsInByb21pc2VzIiwiYWN0aXZpdHkiLCJhdHRhY2htZW50cyIsIm1hcCIsImRvd25sb2FkQXR0YWNobWVudEFuZFdyaXRlIiwic3VjY2Vzc2Z1bFNhdmVzIiwiYWxsIiwicmVwbHlGb3JSZWNlaXZlZEF0dGFjaG1lbnRzIiwibG9jYWxBdHRhY2htZW50RGF0YSIsImZpbGVOYW1lIiwibG9jYWxQYXRoIiwidW5kZWZpbmVkIiwicmVwbHlQcm9taXNlcyIsInIiLCJhdHRhY2htZW50IiwibmFtZSIsImxvY2FsRmlsZU5hbWUiLCJqb2luIiwiX19kaXJuYW1lIiwiZ2V0IiwicmVzcG9uc2VUeXBlIiwid3JpdGVGaWxlIiwiZnNFcnJvciIsInByb21wdENvbnRleHQiLCJyZWNvZ25pemVkIiwic3VjY2VlZGVkIiwiZG9jVHlwZSIsInZhbGlkRG9jIiwibGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6InE0Y0FlWTsyRkFmWjtBQUNBO0FBRUEsS0FBTUEsQ0FBQUEsSUFBSSwwQkFBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBVixDQUFWLENBQ0EsS0FBTUMsQ0FBQUEsS0FBSywwQkFBR0QsT0FBTyxDQUFDLE9BQUQsQ0FBVixDQUFYLENBQ0EsS0FBTUUsQ0FBQUEsRUFBRSwwQkFBR0YsT0FBTyxDQUFDLElBQUQsQ0FBVixDQUFSLENBQ0EsS0FBTUcsQ0FBQUEsR0FBRywwQkFBR0gsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFULENBQ0EsR0FBSUksQ0FBQUEsUUFBUSwwQkFBR0osT0FB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QUNwRCxXQUFYLEdBQTJCLFdBRDVCLENBREQsQ0FESyxDQUlMLHVEQUNBaUUsUUFBUSxDQUFDNUIsSUFBVCxDQUFjZSxVQUFkLEVBQ0QsQ0FOTSxrQ0FNTixDQUNGLENBZEQsRUFMc0MsMEJBcUJ0Q1MsYUFBYSxDQUFDQyxVQUFkLENBQXlCbkUsS0FBekIsQ0FBaUNzRSxRQUFqQyxDQUVBO0FBdkJzQywwQkF3QnRDLE1BQU8sQ0FBQyxDQUFDQSxRQUFRLENBQUNDLE1BQWxCLENBQ0QsQ0F6QkQsSUF5Qk8sdURBQ0wsS0FBTUwsQ0FBQUEsYUFBYSxDQUFDM0QsT0FBZCxDQUFzQkcsWUFBdEIsQ0FBbUMsMEJBQW5DLENBQU4sQ0FFQTtBQUhLLDBCQUlMLE1BQU8sS0FBUCxDQUNELENBQ0YsQ0EzUnNDLEMsMEJBOFJ6QzhELE1BQU0sQ0FBQ0MsT0FBUCxDQUFlekcsVUFBZixDQUE0QkEsVUFBNUIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG5cclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xyXG5jb25zdCBheGlvcyA9IHJlcXVpcmUoXCJheGlvc1wiKTtcclxuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XHJcbmNvbnN0IGZzZSA9IHJlcXVpcmUoXCJmcy1leHRyYVwiKTtcclxudmFyIEZvcm1EYXRhID0gcmVxdWlyZShcImZvcm0tZGF0YVwiKTtcclxuY29uc3Qge1xyXG4gIEF0dGFjaG1lbnRQcm9tcHQsXHJcbiAgQ2hvaWNlRmFjdG9yeSxcclxuICBDaG9pY2VQcm9tcHQsXHJcbiAgQ29tcG9uZW50RGlhbG9nLFxyXG4gIERpYWxvZ1NldCxcclxuICBEaWFsb2dUdXJuU3RhdHVzLFxyXG4gIFdhdGVyZmFsbERpYWxvZyxcclxufSA9IHJlcXVpcmUoXCJib3RidWlsZGVyLWRpYWxvZ3NcIik7XHJcbmNvbnN0IHsgQW5zd2VyRGlhbG9nLCBBTlNXRVJfRElBTE9HIH0gPSByZXF1aXJlKFwiLi9hbnN3ZXJEaWFsb2dcIik7XHJcbmNvbnN0IHsgRG9jRGlhbG9nLCBET0NfRElBTE9HIH0gPSByZXF1aXJlKFwiLi9kb2NEaWFsb2dcIik7XHJcblxyXG5jb25zdCBBVFRBQ0hNRU5UX1BST01QVCA9IFwiQVRUQUNITUVOVF9QUk9NUFRcIjtcclxuY29uc3QgQ0hPSUNFX1BST01QVCA9IFwiQ0hPSUNFX1BST01QVFwiO1xyXG5jb25zdCBXQVRFUkZBTExfRElBTE9HID0gXCJXQVRFUkZBTExfRElBTE9HXCI7XHJcblxyXG5jbGFzcyBNYWluRGlhbG9nIGV4dGVuZHMgQ29tcG9uZW50RGlhbG9nIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKFwibWFpbkRpYWxvZ1wiKTtcclxuXHJcbiAgICB0aGlzLmFkZERpYWxvZyhuZXcgQW5zd2VyRGlhbG9nKCkpO1xyXG4gICAgdGhpcy5hZGREaWFsb2cobmV3IERvY0RpYWxvZyh0aGlzLmluaXRpYWxEaWFsb2dJZCkpO1xyXG4gICAgdGhpcy5hZGREaWFsb2cobmV3IENob2ljZVByb21wdChDSE9JQ0VfUFJPTVBUKSk7XHJcbiAgICB0aGlzLmFkZERpYWxvZyhcclxuICAgICAgbmV3IEF0dGFjaG1lbnRQcm9tcHQoQVRUQUNITUVOVF9QUk9NUFQsIHRoaXMucHJvbXB0VmFsaWRhdG9yKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmFkZERpYWxvZyhcclxuICAgICAgbmV3IFdhdGVyZmFsbERpYWxvZyhXQVRFUkZBTExfRElBTE9HLCBbXHJcbiAgICAgICAgdGhpcy5zdGFydFN0ZXAuYmluZCh0aGlzKSxcclxuICAgICAgICB0aGlzLmNob29zZVN0ZXAuYmluZCh0aGlzKSxcclxuICAgICAgICB0aGlzLmRvY1N0ZXAuYmluZCh0aGlzKSxcclxuICAgICAgICB0aGlzLnJlcGVhdFN0ZXAuYmluZCh0aGlzKSxcclxuICAgICAgXSlcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5pbml0aWFsRGlhbG9nSWQgPSBXQVRFUkZBTExfRElBTE9HO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIHJ1biBtZXRob2QgaGFuZGxlcyB0aGUgaW5jb21pbmcgYWN0aXZpdHkgKGluIHRoZSBmb3JtIG9mIGEgVHVybkNvbnRleHQpIGFuZCBwYXNzZXMgaXQgdGhyb3VnaCB0aGUgZGlhbG9nIHN5c3RlbS5cclxuICAgKiBJZiBubyBkaWFsb2cgaXMgYWN0aXZlLCBpdCB3aWxsIHN0YXJ0IHRoZSBkZWZhdWx0IGRpYWxvZy5cclxuICAgKiBAcGFyYW0geyp9IHR1cm5Db250ZXh0XHJcbiAgICogQHBhcmFtIHsqfSBhY2Nlc3NvclxyXG4gICAqL1xyXG4gIGFzeW5jIHJ1bih0dXJuQ29udGV4dCwgYWNjZXNzb3IpIHtcclxuICAgIGNvbnN0IGRpYWxvZ1NldCA9IG5ldyBEaWFsb2dTZXQoYWNjZXNzb3IpO1xyXG4gICAgZGlhbG9nU2V0LmFkZCh0aGlzKTtcclxuXHJcbiAgICBjb25zdCBkaWFsb2dDb250ZXh0ID0gYXdhaXQgZGlhbG9nU2V0LmNyZWF0ZUNvbnRleHQodHVybkNvbnRleHQpO1xyXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGRpYWxvZ0NvbnRleHQuY29udGludWVEaWFsb2coKTtcclxuICAgIGlmIChyZXN1bHRzLnN0YXR1cyA9PT0gRGlhbG9nVHVyblN0YXR1cy5lbXB0eSkge1xyXG4gICAgICBhd2FpdCBkaWFsb2dDb250ZXh0LmJlZ2luRGlhbG9nKHRoaXMuaWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgc3RhcnRTdGVwKHN0ZXApIHtcclxuICAgIC8vIFdhdGVyZmFsbFN0ZXAgYWx3YXlzIGZpbmlzaGVzIHdpdGggdGhlIGVuZCBvZiB0aGUgV2F0ZXJmYWxsIG9yIHdpdGggYW5vdGhlciBkaWFsb2c7IGhlcmUgaXQgaXMgYSBQcm9tcHQgRGlhbG9nLlxyXG4gICAgLy8gUnVubmluZyBhIHByb21wdCBoZXJlIG1lYW5zIHRoZSBuZXh0IFdhdGVyZmFsbFN0ZXAgd2lsbCBiZSBydW4gd2hlbiB0aGUgdXNlcidzIHJlc3BvbnNlIGlzIHJlY2VpdmVkLlxyXG4gICAgY29uc3QgbXNnID0gc3RlcC5vcHRpb25zLnJlc3RhcnRNc2dcclxuICAgICAgPyBzdGVwLm9wdGlvbnMucmVzdGFydE1zZ1xyXG4gICAgICA6IFwiV2hhdCBjYW4gSSBkbyBmb3IgeW91P1wiO1xyXG4gICAgcmV0dXJuIGF3YWl0IHN0ZXAucHJvbXB0KENIT0lDRV9QUk9NUFQsIHtcclxuICAgICAgcHJvbXB0OiBtc2csXHJcbiAgICAgIGNob2ljZXM6IENob2ljZUZhY3RvcnkudG9DaG9pY2VzKFtcclxuICAgICAgICBcImFzayBhIHF1ZXN0aW9uXCIsXHJcbiAgICAgICAgXCJwcm9jZXNzIGEgZG9jdW1lbnRcIixcclxuICAgICAgICAsXHJcbiAgICAgICAgXCJyZWNvZ25pemUgYW4gaW1hZ2VcIixcclxuICAgICAgXSksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNob29zZVN0ZXAoc3RlcCkge1xyXG4gICAgY29uc3QgY2hvaWNlID0gc3RlcC5yZXN1bHQudmFsdWU7XHJcbiAgICBpZiAoY2hvaWNlID09IFwiYXNrIGEgcXVlc3Rpb25cIikge1xyXG4gICAgICByZXR1cm4gYXdhaXQgc3RlcC5iZWdpbkRpYWxvZyhBTlNXRVJfRElBTE9HKTtcclxuICAgIH0gZWxzZSBpZiAoY2hvaWNlID09IFwicHJvY2VzcyBhIGRvY3VtZW50XCIpIHtcclxuICAgICAgdmFyIHByb21wdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgcHJvbXB0OiBcIlBsZWFzZSBhdHRhY2ggYSBkb2N1bWVudCBpbiBwZGYuXCIsXHJcbiAgICAgICAgcmV0cnlQcm9tcHQ6XHJcbiAgICAgICAgICBcIlRoYXQgd2FzIG5vdCBhIGRvY3VtZW50IHRoYXQgSSBjYW4gaGVscCwgcGxlYXNlIHRyeSBhZ2FpbiB3aXRoIGEgZG9jdW1lbnQgaW4gcGRmLlwiLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmV0dXJuIGF3YWl0IHN0ZXAucHJvbXB0KEFUVEFDSE1FTlRfUFJPTVBULCBwcm9tcHRPcHRpb25zKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBwcm9tcHRPcHRpb25zID0ge1xyXG4gICAgICAgIHByb21wdDogXCJQbGVhc2UgYXR0YWNoIGFuIGltYWdlLlwiLFxyXG4gICAgICAgIHJldHJ5UHJvbXB0OlxyXG4gICAgICAgICAgXCJUaGF0IHdhcyBub3QgYW4gaW1hZ2UgdGhhdCBJIGNhbiBoZWxwLCBwbGVhc2UgdHJ5IGFnYWluIHdpdGggYW4gaW1hZ2UgaW4gcG5nL2pwZy5cIixcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiBhd2FpdCBzdGVwLnByb21wdChBVFRBQ0hNRU5UX1BST01QVCwgcHJvbXB0T3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBkb2NTdGVwKHN0ZXApIHtcclxuICAgIGlmIChzdGVwLnJlc3VsdCAmJiBzdGVwLnJlc3VsdFswXS5jb250ZW50VXJsKSB7XHJcbiAgICAgIHZhciB0eXBlID0gc3RlcC5yZXN1bHRbMF0uY29udGVudFR5cGU7XHJcbiAgICAgIHZhciBwYXRoID0gYXdhaXQgdGhpcy5oYW5kbGVJbmNvbWluZ0F0dGFjaG1lbnQoc3RlcC5jb250ZXh0KTtcclxuICAgICAgY29uc29sZS5sb2cocGF0aCk7XHJcbiAgICAgIGlmIChwYXRoKSB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiYXBwbGljYXRpb24vcGRmXCIpIHtcclxuICAgICAgICAgIGF3YWl0IHN0ZXAuY29udGV4dC5zZW5kQWN0aXZpdHkoXHJcbiAgICAgICAgICAgIFwiUHJvY2Vzc2luZyB0aGUgZG9jdW1lbnQsIHBsZWFzZSB3YWl0LCBpdCB3aWxsIHRha2UgYXJvdW5kIDU1IHNlY29uZHNcIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHZhciByZXFfcmVzdWx0cyA9IGF3YWl0IHRoaXMuc2VuZFJlcShwYXRoKTtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZzLnVubGlua1N5bmMocGF0aCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge31cclxuICAgICAgICAgIHJldHVybiBhd2FpdCBzdGVwLmJlZ2luRGlhbG9nKERPQ19ESUFMT0csIHtcclxuICAgICAgICAgICAgc3VtOiByZXFfcmVzdWx0c1swXSxcclxuICAgICAgICAgICAgcXVlcnk6IHJlcV9yZXN1bHRzWzFdLFxyXG4gICAgICAgICAgICBmb3JtOiByZXFfcmVzdWx0c1syXSxcclxuICAgICAgICAgICAgZmlsZXBhdGg6IHBhdGgsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGltYWdlX3Jlc3VsdCA9IFwiXCI7XHJcbiAgICAgICAgICBhd2FpdCBzdGVwLmNvbnRleHQuc2VuZEFjdGl2aXR5KFxyXG4gICAgICAgICAgICBcIlByb2Nlc3NpbmcgdGhlIGltYWdlLCBwbGVhc2Ugd2FpdCwgaXQgd2lsbCB0YWtlIGFyb3VuZCAxNSBzZWNvbmRzXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgZm9ybS5hcHBlbmQoXCJmaWxlXCIsIGZzZS5jcmVhdGVSZWFkU3RyZWFtKHBhdGgpKTtcclxuICAgICAgICAgIGF3YWl0IGF4aW9zKHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcclxuICAgICAgICAgICAgdXJsOlxyXG4gICAgICAgICAgICAgIFwiaHR0cDovL2F2YWJvdGZvcm1yZWNvZy5henVyZXdlYnNpdGVzLm5ldC9hcGkvRm9ybVJlY29nRnVuY3Rpb24/dHlwZT1CdXNpbmVzc0NhcmRcIixcclxuICAgICAgICAgICAgZGF0YTogZm9ybSxcclxuICAgICAgICAgICAgaGVhZGVyczogZm9ybS5nZXRIZWFkZXJzKCksXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICB2YXIgYSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgYS5mb3JFYWNoKChsaW5lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZV9yZXN1bHQgKz0gbGluZSArIFwiXFxuXCI7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZnMudW5saW5rU3luYyhwYXRoKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxyXG4gICAgICAgICAgaWYgKGltYWdlX3Jlc3VsdCkge1xyXG4gICAgICAgICAgICBhd2FpdCBzdGVwLmNvbnRleHQuc2VuZEFjdGl2aXR5KGltYWdlX3Jlc3VsdCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhd2FpdCBzdGVwLmNvbnRleHQuc2VuZEFjdGl2aXR5KFxyXG4gICAgICAgICAgICAgIFwiUmVjb2duaXRpb24gZmFpbGVkLCBubyBwYXR0ZXJuIGZvdW5kXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBhd2FpdCBzdGVwLm5leHQoKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHJlcGVhdFN0ZXAoc3RlcCkge1xyXG4gICAgcmV0dXJuIGF3YWl0IHN0ZXAucmVwbGFjZURpYWxvZyh0aGlzLmluaXRpYWxEaWFsb2dJZCwge1xyXG4gICAgICByZXN0YXJ0TXNnOiBcIldoYXQgZWxzZSBjYW4gSSBkbyBmb3IgeW91P1wiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBzZW5kUmVxKHBhdGgpIHtcclxuICAgIHZhciBmb3JtMSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgZm9ybTEuYXBwZW5kKFwiZmlsZVwiLCBmc2UuY3JlYXRlUmVhZFN0cmVhbShwYXRoKSk7XHJcbiAgICB2YXIgZm9ybTIgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgIGZvcm0yLmFwcGVuZChcImZpbGVcIiwgZnNlLmNyZWF0ZVJlYWRTdHJlYW0ocGF0aCkpO1xyXG4gICAgdmFyIGZvcm0zID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICBmb3JtMy5hcHBlbmQoXCJmaWxlXCIsIGZzZS5jcmVhdGVSZWFkU3RyZWFtKHBhdGgpKTtcclxuXHJcbiAgICBsZXQgcmVxQXJyID0gW1xyXG4gICAgICBheGlvcyh7XHJcbiAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcclxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly90ZXh0c3VtYXBpLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9UZXh0U3VtbWFyeVwiLFxyXG4gICAgICAgIGRhdGE6IGZvcm0xLFxyXG4gICAgICAgIGhlYWRlcnM6IGZvcm0xLmdldEhlYWRlcnMoKSxcclxuICAgICAgfSksXHJcbiAgICAgIGF4aW9zKHtcclxuICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxyXG4gICAgICAgIHVybDogXCJodHRwOi8vMjAuNzcuNTcuNjA6NTAwMFwiLFxyXG4gICAgICAgIGRhdGE6IGZvcm0yLFxyXG4gICAgICAgIGhlYWRlcnM6IGZvcm0yLmdldEhlYWRlcnMoKSxcclxuICAgICAgfSksXHJcbiAgICAgIGF4aW9zKHtcclxuICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxyXG4gICAgICAgIHVybDpcclxuICAgICAgICAgIFwiaHR0cHM6Ly9hdmFib3Rmb3JtcmVjb2cuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL0Zvcm1SZWNvZ0Z1bmN0aW9uP3R5cGU9TGF5b3V0XCIsXHJcbiAgICAgICAgZGF0YTogZm9ybTMsXHJcbiAgICAgICAgaGVhZGVyczogZm9ybTMuZ2V0SGVhZGVycygpLFxyXG4gICAgICB9KSxcclxuICAgIF07XHJcbiAgICB2YXIgb3V0cHV0ID0gW107XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocmVxQXJyKS50aGVuKChyZXN1bHRzKSA9PiB7XHJcbiAgICAgIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LnN0YXR1cyk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJmdWxmaWxsZWRcIikge1xyXG4gICAgICAgICAgb3V0cHV0LnB1c2gocmVzdWx0LnZhbHVlLmRhdGEpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJmaXJzdDogXCIgKyByZXN1bHQudmFsdWUuZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG91dHB1dC5wdXNoKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKFwiZmluaXNoZWQhXCIpO1xyXG4gICAgY29uc29sZS5sb2cob3V0cHV0KTtcclxuICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgfVxyXG5cclxuICBhc3luYyBoYW5kbGVJbmNvbWluZ0F0dGFjaG1lbnQodHVybkNvbnRleHQpIHtcclxuICAgIC8vIFByZXBhcmUgUHJvbWlzZXMgdG8gZG93bmxvYWQgZWFjaCBhdHRhY2htZW50IGFuZCB0aGVuIGV4ZWN1dGUgZWFjaCBQcm9taXNlLlxyXG4gICAgY29uc3QgcHJvbWlzZXMgPSBhd2FpdCB0dXJuQ29udGV4dC5hY3Rpdml0eS5hdHRhY2htZW50cy5tYXAoXHJcbiAgICAgIHRoaXMuZG93bmxvYWRBdHRhY2htZW50QW5kV3JpdGVcclxuICAgICk7XHJcbiAgICBjb25zdCBzdWNjZXNzZnVsU2F2ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcblxyXG4gICAgLy8gUmVwbGllcyBiYWNrIHRvIHRoZSB1c2VyIHdpdGggaW5mb3JtYXRpb24gYWJvdXQgd2hlcmUgdGhlIGF0dGFjaG1lbnQgaXMgc3RvcmVkIG9uIHRoZSBib3QncyBzZXJ2ZXIsXHJcbiAgICAvLyBhbmQgd2hhdCB0aGUgbmFtZSBvZiB0aGUgc2F2ZWQgZmlsZSBpcy5cclxuICAgIGFzeW5jIGZ1bmN0aW9uIHJlcGx5Rm9yUmVjZWl2ZWRBdHRhY2htZW50cyhsb2NhbEF0dGFjaG1lbnREYXRhKSB7XHJcbiAgICAgIGlmIChsb2NhbEF0dGFjaG1lbnREYXRhKSB7XHJcbiAgICAgICAgLy8gQmVjYXVzZSB0aGUgVHVybkNvbnRleHQgd2FzIGJvdW5kIHRvIHRoaXMgZnVuY3Rpb24sIHRoZSBib3QgY2FuIGNhbGxcclxuICAgICAgICAvLyBgVHVybkNvbnRleHQuc2VuZEFjdGl2aXR5YCB2aWEgYHRoaXMuc2VuZEFjdGl2aXR5YDtcclxuICAgICAgICBhd2FpdCB0aGlzLnNlbmRBY3Rpdml0eShcclxuICAgICAgICAgIGBBdHRhY2htZW50IFwiJHtsb2NhbEF0dGFjaG1lbnREYXRhLmZpbGVOYW1lfVwiIGAgKyBgaGFzIGJlZW4gcmVjZWl2ZWQuYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIGxvY2FsQXR0YWNobWVudERhdGEubG9jYWxQYXRoO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZEFjdGl2aXR5KFwiQXR0YWNobWVudCB3YXMgbm90IHN1Y2Nlc3NmdWxseSByZWNlaXZlZC5cIik7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFByZXBhcmUgUHJvbWlzZXMgdG8gcmVwbHkgdG8gdGhlIHVzZXIgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCBzYXZlZCBhdHRhY2htZW50cy5cclxuICAgIC8vIFRoZSBjdXJyZW50IFR1cm5Db250ZXh0IGlzIGJvdW5kIHNvIGByZXBseUZvclJlY2VpdmVkQXR0YWNobWVudHNgIGNhbiBhbHNvIHNlbmQgcmVwbGllcy5cclxuICAgIGNvbnN0IHJlcGx5UHJvbWlzZXMgPSBzdWNjZXNzZnVsU2F2ZXMubWFwKFxyXG4gICAgICByZXBseUZvclJlY2VpdmVkQXR0YWNobWVudHMuYmluZCh0dXJuQ29udGV4dClcclxuICAgICk7XHJcbiAgICBsZXQgciA9IGF3YWl0IFByb21pc2UuYWxsKHJlcGx5UHJvbWlzZXMpLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0WzBdKTtcclxuICAgIHJldHVybiByO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZG93bmxvYWRBdHRhY2htZW50QW5kV3JpdGUoYXR0YWNobWVudCkge1xyXG4gICAgdmFyIG5hbWUgPSBhdHRhY2htZW50Lm5hbWU7XHJcbiAgICAvLyBSZXRyaWV2ZSB0aGUgYXR0YWNobWVudCB2aWEgdGhlIGF0dGFjaG1lbnQncyBjb250ZW50VXJsLlxyXG4gICAgY29uc3QgdXJsID0gYXR0YWNobWVudC5jb250ZW50VXJsO1xyXG5cclxuICAgIC8vIExvY2FsIGZpbGUgcGF0aCBmb3IgdGhlIGJvdCB0byBzYXZlIHRoZSBhdHRhY2htZW50LlxyXG4gICAgY29uc3QgbG9jYWxGaWxlTmFtZSA9IHBhdGguam9pbihfX2Rpcm5hbWUsIG5hbWUpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIGFycmF5YnVmZmVyIGlzIG5lY2Vzc2FyeSBmb3IgaW1hZ2VzXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KHVybCwgeyByZXNwb25zZVR5cGU6IFwiYXJyYXlidWZmZXJcIiB9KTtcclxuICAgICAgZnMud3JpdGVGaWxlKGxvY2FsRmlsZU5hbWUsIHJlc3BvbnNlLmRhdGEsIChmc0Vycm9yKSA9PiB7XHJcbiAgICAgICAgaWYgKGZzRXJyb3IpIHtcclxuICAgICAgICAgIHRocm93IGZzRXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgLy8gSWYgbm8gZXJyb3Igd2FzIHRocm93biB3aGlsZSB3cml0aW5nIHRvIGRpc2ssIHJldHVybiB0aGUgYXR0YWNobWVudCdzIG5hbWVcclxuICAgIC8vIGFuZCBsb2NhbEZpbGVQYXRoIGZvciB0aGUgcmVzcG9uc2UgYmFjayB0byB0aGUgdXNlci5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGZpbGVOYW1lOiBuYW1lLFxyXG4gICAgICBsb2NhbFBhdGg6IGxvY2FsRmlsZU5hbWUsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcHJvbXB0VmFsaWRhdG9yKHByb21wdENvbnRleHQpIHtcclxuICAgIGlmIChwcm9tcHRDb250ZXh0LnJlY29nbml6ZWQuc3VjY2VlZGVkKSB7XHJcbiAgICAgIHZhciBkb2NUeXBlID0gcHJvbXB0Q29udGV4dC5vcHRpb25zLnByb21wdDtcclxuICAgICAgdmFyIGF0dGFjaG1lbnRzID0gcHJvbXB0Q29udGV4dC5yZWNvZ25pemVkLnZhbHVlO1xyXG4gICAgICB2YXIgdmFsaWREb2MgPSBbXTtcclxuXHJcbiAgICAgIGF0dGFjaG1lbnRzLmZvckVhY2goKGF0dGFjaG1lbnQpID0+IHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBkb2NUeXBlID09PSBcIlBsZWFzZSBhdHRhY2ggYSBkb2N1bWVudCBpbiBwZGYuXCIgJiZcclxuICAgICAgICAgIGF0dGFjaG1lbnQuY29udGVudFR5cGUgPT09IFwiYXBwbGljYXRpb24vcGRmXCJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIC8vfHwgYXR0YWNobWVudC5jb250ZW50VHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50J3x8IGF0dGFjaG1lbnQuY29udGVudFR5cGUgPT09ICdhcHBsaWNhdGlvbi9tc3dvcmQnXHJcbiAgICAgICAgICB2YWxpZERvYy5wdXNoKGF0dGFjaG1lbnQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICBkb2NUeXBlID09PSBcIlBsZWFzZSBhdHRhY2ggYW4gaW1hZ2UuXCIgJiZcclxuICAgICAgICAgIChhdHRhY2htZW50LmNvbnRlbnRUeXBlID09PSBcImltYWdlL2pwZWdcIiB8fFxyXG4gICAgICAgICAgICBhdHRhY2htZW50LmNvbnRlbnRUeXBlID09PSBcImltYWdlL3BuZ1wiKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdmFsaWREb2MucHVzaChhdHRhY2htZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcHJvbXB0Q29udGV4dC5yZWNvZ25pemVkLnZhbHVlID0gdmFsaWREb2M7XHJcblxyXG4gICAgICAvLyBJZiBub25lIG9mIHRoZSBhdHRhY2htZW50cyBhcmUgdmFsaWQgaW1hZ2VzLCB0aGUgcmV0cnkgcHJvbXB0IHNob3VsZCBiZSBzZW50LlxyXG4gICAgICByZXR1cm4gISF2YWxpZERvYy5sZW5ndGg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhd2FpdCBwcm9tcHRDb250ZXh0LmNvbnRleHQuc2VuZEFjdGl2aXR5KFwiTm8gYXR0YWNobWVudHMgcmVjZWl2ZWQuXCIpO1xyXG5cclxuICAgICAgLy8gV2UgY2FuIHJldHVybiB0cnVlIGZyb20gYSB2YWxpZGF0b3IgZnVuY3Rpb24gZXZlbiBpZiBSZWNvZ25pemVkLlN1Y2NlZWRlZCBpcyBmYWxzZS5cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5NYWluRGlhbG9nID0gTWFpbkRpYWxvZztcclxuIl19